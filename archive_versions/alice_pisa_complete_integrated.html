<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Alice Pisa - Complete Integrated System</title>
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#2E7D32">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-green: #2E7D32;
            --light-green: #66BB6A;
            --earth-brown: #5D4037;
            --sun-yellow: #FFB300;
            --sky-blue: #1976D2;
            --warning-orange: #FF8F00;
            --danger-red: #D32F2F;
            --calm-green: #4CAF50;
            --worried-yellow: #FFEB3B;
            --stressed-orange: #FF9800;
            --desperate-red: #F44336;
            --surface-white: #FFFFFF;
            --background-light: #F8F9FA;
            --text-dark: #212121;
            --text-medium: #757575;
            --text-light: #BDBDBD;
            --shadow-light: rgba(0,0,0,0.1);
            --shadow-medium: rgba(0,0,0,0.15);
            --shadow-heavy: rgba(0,0,0,0.25);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }
        
        body {
            font-family: 'Poppins', -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(135deg, var(--background-light) 0%, #E8F5E8 100%);
            min-height: 100vh;
            overflow-x: hidden;
            touch-action: manipulation;
        }
        
        .screen {
            width: 100vw;
            min-height: 100vh;
            display: none;
            flex-direction: column;
            position: relative;
            animation: fadeIn 0.5s ease-out;
        }
        
        .screen.active {
            display: flex;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .app-bar {
            background: linear-gradient(135deg, var(--primary-green) 0%, var(--light-green) 100%);
            color: white;
            padding: max(env(safe-area-inset-top), 24px) 24px 24px 24px;
            text-align: center;
            position: relative;
            box-shadow: 0 4px 20px var(--shadow-medium);
        }
        
        .app-bar h1 {
            font-size: clamp(22px, 5.5vw, 32px);
            margin-bottom: 8px;
            font-weight: 700;
            text-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }
        
        .app-bar p {
            font-size: clamp(13px, 3.2vw, 18px);
            opacity: 0.95;
            font-weight: 500;
        }
        
        .content {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            padding-bottom: 120px;
        }
        
        .card {
            background: var(--surface-white);
            border-radius: 20px;
            padding: 24px;
            margin-bottom: 20px;
            box-shadow: 0 8px 32px var(--shadow-light);
            border: 1px solid rgba(255,255,255,0.2);
            backdrop-filter: blur(10px);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }
        
        .profile-card {
            background: linear-gradient(135deg, #E3F2FD 0%, #F3E5F5 100%);
            border-left: 4px solid var(--sky-blue);
        }
        
        .budget-setup-card {
            background: linear-gradient(135deg, #E3F2FD 0%, #F3E5F5 100%);
            border-left: 4px solid var(--sky-blue);
        }
        
        .profile-avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary-green), var(--light-green));
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 36px;
            margin: 0 auto 16px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 16px var(--shadow-medium);
        }
        
        .profile-avatar:hover {
            transform: scale(1.05);
        }
        
        .profile-input, .budget-input {
            width: 100%;
            padding: 16px;
            border: 2px solid #E0E0E0;
            border-radius: 12px;
            font-size: 18px;
            font-weight: 600;
            background: white;
            transition: all 0.3s ease;
            margin-bottom: 16px;
        }
        
        .profile-input:focus, .budget-input:focus {
            outline: none;
            border-color: var(--primary-green);
            box-shadow: 0 0 0 3px rgba(46, 125, 50, 0.1);
        }
        
        .avatar-selector {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 12px;
            margin-top: 16px;
        }
        
        .avatar-option {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--light-green), var(--primary-green));
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 3px solid transparent;
        }
        
        .avatar-option:hover, .avatar-option.selected {
            border-color: var(--primary-green);
            transform: scale(1.1);
            box-shadow: 0 4px 16px var(--shadow-medium);
        }
        
        .location-selector {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            margin-top: 16px;
        }
        
        .location-option {
            padding: 16px;
            border: 2px solid #E0E0E0;
            border-radius: 12px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            background: white;
        }
        
        .location-option:hover, .location-option.selected {
            border-color: var(--primary-green);
            background: #E8F5E8;
            transform: translateY(-2px);
        }
        
        .budget-presets {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            margin-top: 16px;
        }
        
        .budget-preset {
            padding: 16px;
            border: 2px solid #E0E0E0;
            border-radius: 12px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            background: white;
        }
        
        .budget-preset:hover, .budget-preset.selected {
            border-color: var(--primary-green);
            background: #E8F5E8;
            transform: translateY(-2px);
        }
        
        .preset-amount {
            font-size: 20px;
            font-weight: 700;
            color: var(--primary-green);
            margin-bottom: 4px;
        }
        
        .preset-label {
            font-size: 12px;
            color: var(--text-medium);
            font-weight: 500;
        }
        
        .btn {
            background: linear-gradient(135deg, var(--primary-green) 0%, var(--light-green) 100%);
            color: white;
            border: none;
            padding: 18px 28px;
            border-radius: 20px;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            width: 100%;
            margin-top: 20px;
            min-height: 60px;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 6px 20px rgba(46, 125, 50, 0.3);
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 32px rgba(46, 125, 50, 0.4);
        }
        
        .btn:active {
            transform: scale(0.98);
        }
        
        .navigation {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            padding: 20px;
            padding-bottom: max(env(safe-area-inset-bottom), 20px);
            border-top: 1px solid rgba(224, 224, 224, 0.5);
            display: flex;
            gap: 16px;
            z-index: 100;
            box-shadow: 0 -4px 20px var(--shadow-light);
        }
        
        .nav-btn {
            flex: 1;
            background: linear-gradient(135deg, var(--primary-green) 0%, var(--light-green) 100%);
            color: white;
            border: none;
            padding: 16px;
            border-radius: 16px;
            font-weight: 700;
            cursor: pointer;
            min-height: 56px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 4px 16px rgba(46, 125, 50, 0.3);
        }
        
        .nav-btn.secondary {
            background: linear-gradient(135deg, var(--text-medium) 0%, #9E9E9E 100%);
            box-shadow: 0 4px 16px rgba(117, 117, 117, 0.3);
        }
        
        .summary-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
        }
        
        .summary-label {
            font-size: 14px;
            color: var(--text-medium);
        }
        
        .summary-value {
            font-size: 14px;
            font-weight: 600;
            color: var(--primary-green);
        }
        
        .quick-actions {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 16px;
        }
        
        .quick-action {
            background: linear-gradient(135deg, var(--surface-white) 0%, #F8F9FA 100%);
            border: 2px solid transparent;
            border-radius: 20px;
            padding: 24px 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            min-height: 100px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            box-shadow: 0 4px 16px var(--shadow-light);
        }
        
        .quick-action:hover {
            transform: translateY(-4px);
            border-color: var(--primary-green);
            box-shadow: 0 8px 32px var(--shadow-medium);
        }
        
        .quick-action-icon {
            font-size: 32px;
            margin-bottom: 12px;
        }
        
        .quick-action-text {
            font-size: 13px;
            font-weight: 600;
            line-height: 1.3;
            color: var(--text-dark);
        }
        
        .financial-card {
            background: linear-gradient(135deg, var(--calm-green) 0%, var(--light-green) 100%);
            color: white;
            border: none;
            position: relative;
            overflow: hidden;
        }
        
        .metric-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .metric {
            text-align: center;
            background: rgba(255,255,255,0.15);
            padding: 16px;
            border-radius: 16px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.2);
        }
        
        .metric-label {
            font-size: 12px;
            opacity: 0.9;
            margin-bottom: 6px;
            font-weight: 500;
        }
        
        .metric-value {
            font-size: clamp(18px, 4.5vw, 24px);
            font-weight: 700;
            text-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .notification {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: linear-gradient(135deg, rgba(0,0,0,0.9), rgba(0,0,0,0.8));
            color: white;
            padding: 24px 28px;
            border-radius: 20px;
            z-index: 2000;
            max-width: 85%;
            text-align: center;
            font-size: 15px;
            font-weight: 600;
            box-shadow: 0 12px 40px rgba(0,0,0,0.3);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255,255,255,0.1);
            animation: notificationIn 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        @keyframes notificationIn {
            from { opacity: 0; transform: translate(-50%, -50%) scale(0.8); }
            to { opacity: 1; transform: translate(-50%, -50%) scale(1); }
        }
    </style>
</head>
<body>
    <!-- Profile Setup Screen -->
    <div class="screen active" id="profileSetup">
        <div class="app-bar">
            <h1>ЁЯСд рдЕрдкрдиреА рдкреНрд░реЛрдлрд╛рдЗрд▓ рдмрдирд╛рдПрдВ</h1>
            <p>рдЖрдкрдХреА рд╡реНрдпрдХреНрддрд┐рдЧрдд рдЬрд╛рдирдХрд╛рд░реА рджрд░реНрдЬ рдХрд░реЗрдВ</p>
        </div>
        
        <div class="content">
            <!-- Profile Picture & Name -->
            <div class="card profile-card">
                <h3 style="margin-bottom: 20px; font-size: 20px; font-weight: 700; color: var(--sky-blue);">
                    ЁЯУ╕ рдкреНрд░реЛрдлрд╛рдЗрд▓ рдлреЛрдЯреЛ рдФрд░ рдирд╛рдо
                </h3>
                
                <div class="profile-avatar" id="selectedAvatar" onclick="toggleAvatarSelector()">
                    ЁЯзСтАНЁЯМ╛
                </div>
                
                <div id="avatarSelector" style="display: none;">
                    <p style="font-size: 14px; color: var(--text-medium); margin-bottom: 12px; text-align: center;">
                        рдЕрдкрдирд╛ рдЕрд╡рддрд╛рд░ рдЪреБрдиреЗрдВ:
                    </p>
                    <div class="avatar-selector">
                        <div class="avatar-option selected" onclick="selectAvatar('ЁЯзСтАНЁЯМ╛')">ЁЯзСтАНЁЯМ╛</div>
                        <div class="avatar-option" onclick="selectAvatar('ЁЯСитАНЁЯМ╛')">ЁЯСитАНЁЯМ╛</div>
                        <div class="avatar-option" onclick="selectAvatar('ЁЯСйтАНЁЯМ╛')">ЁЯСйтАНЁЯМ╛</div>
                        <div class="avatar-option" onclick="selectAvatar('ЁЯзФтАНтЩВя╕П')">ЁЯзФтАНтЩВя╕П</div>
                        <div class="avatar-option" onclick="selectAvatar('ЁЯС┤')">ЁЯС┤</div>
                        <div class="avatar-option" onclick="selectAvatar('ЁЯС╡')">ЁЯС╡</div>
                        <div class="avatar-option" onclick="selectAvatar('ЁЯзС')">ЁЯзС</div>
                        <div class="avatar-option" onclick="selectAvatar('ЁЯСж')">ЁЯСж</div>
                    </div>
                </div>
                
                <input type="text" class="profile-input" id="farmerName" placeholder="рдЖрдкрдХрд╛ рдирд╛рдо рд▓рд┐рдЦреЗрдВ" value="рд░рд╛рдо рдХреБрдорд╛рд░">
                <div style="font-size: 12px; color: var(--text-medium);">
                    рдЬреИрд╕реЗ: рд░рд╛рдо рдХреБрдорд╛рд░, рд╕реАрддрд╛ рджреЗрд╡реА, рдЕрд░реНрдЬреБрди рд╕рд┐рдВрд╣
                </div>
            </div>

            <!-- Location Selection -->
            <div class="card">
                <h3 style="margin-bottom: 16px; font-size: 18px; font-weight: 700;">
                    ЁЯУН рдЖрдк рдХрд╣рд╛рдБ рд░рд╣рддреЗ рд╣реИрдВ?
                </h3>
                
                <input type="text" class="profile-input" id="customLocation" placeholder="рдЕрдкрдирд╛ рдЧрд╛рдБрд╡/рд╢рд╣рд░ рдХрд╛ рдирд╛рдо рд▓рд┐рдЦреЗрдВ" value="">
                
                <p style="font-size: 14px; color: var(--text-medium); margin: 16px 0;">
                    рдпрд╛ рдлрд┐рд░ рдиреАрдЪреЗ рд╕реЗ рдЪреБрдиреЗрдВ:
                </p>
                
                <div class="location-selector">
                    <div class="location-option" onclick="selectLocation('рд░рд╛рдордкреБрд░', 'рдЙрддреНрддрд░ рдкреНрд░рджреЗрд╢')">
                        <div style="font-size: 16px; font-weight: 700; color: var(--text-dark); margin-bottom: 4px;">рд░рд╛рдордкреБрд░</div>
                        <div style="font-size: 12px; color: var(--text-medium);">рдЙрддреНрддрд░ рдкреНрд░рджреЗрд╢</div>
                    </div>
                    <div class="location-option" onclick="selectLocation('рдХреГрд╖реНрдгрдирдЧрд░', 'рдкрдВрдЬрд╛рдм')">
                        <div style="font-size: 16px; font-weight: 700; color: var(--text-dark); margin-bottom: 4px;">рдХреГрд╖реНрдгрдирдЧрд░</div>
                        <div style="font-size: 12px; color: var(--text-medium);">рдкрдВрдЬрд╛рдм</div>
                    </div>
                    <div class="location-option" onclick="selectLocation('рдЧреЛрдХреБрд▓рдкреБрд░', 'рд╣рд░рд┐рдпрд╛рдгрд╛')">
                        <div style="font-size: 16px; font-weight: 700; color: var(--text-dark); margin-bottom: 4px;">рдЧреЛрдХреБрд▓рдкреБрд░</div>
                        <div style="font-size: 12px; color: var(--text-medium);">рд╣рд░рд┐рдпрд╛рдгрд╛</div>
                    </div>
                    <div class="location-option" onclick="selectLocation('рд╢рд┐рд╡рдкреБрд░', 'рдордзреНрдп рдкреНрд░рджреЗрд╢')">
                        <div style="font-size: 16px; font-weight: 700; color: var(--text-dark); margin-bottom: 4px;">рд╢рд┐рд╡рдкреБрд░</div>
                        <div style="font-size: 12px; color: var(--text-medium);">рдордзреНрдп рдкреНрд░рджреЗрд╢</div>
                    </div>
                </div>
            </div>

            <!-- Age & Experience -->
            <div class="card">
                <h3 style="margin-bottom: 16px; font-size: 18px; font-weight: 700;">
                    ЁЯСе рд╡реНрдпрдХреНрддрд┐рдЧрдд рдЬрд╛рдирдХрд╛рд░реА
                </h3>
                
                <div style="margin-bottom: 16px;">
                    <label style="font-size: 14px; font-weight: 600; color: var(--text-dark); margin-bottom: 8px; display: block;">
                        ЁЯОВ рдЖрдкрдХреА рдЙрдореНрд░:
                    </label>
                    <input type="number" class="profile-input" id="farmerAge" placeholder="25" value="35" min="18" max="80">
                </div>
                
                <div style="margin-bottom: 16px;">
                    <label style="font-size: 14px; font-weight: 600; color: var(--text-dark); margin-bottom: 8px; display: block;">
                        ЁЯЪЬ рдЦреЗрддреА рдХрд╛ рдЕрдиреБрднрд╡ (рд╕рд╛рд▓ рдореЗрдВ):
                    </label>
                    <input type="number" class="profile-input" id="farmingExperience" placeholder="10" value="5" min="0" max="50">
                </div>
            </div>

            <!-- Family Information -->
            <div class="card">
                <h3 style="margin-bottom: 16px; font-size: 18px; font-weight: 700;">
                    ЁЯСитАНЁЯСйтАНЁЯСзтАНЁЯСж рдкрд╛рд░рд┐рд╡рд╛рд░рд┐рдХ рдЬрд╛рдирдХрд╛рд░реА
                </h3>
                
                <div style="margin-bottom: 16px;">
                    <label style="font-size: 14px; font-weight: 600; color: var(--text-dark); margin-bottom: 8px; display: block;">
                        ЁЯСе рдкрд░рд┐рд╡рд╛рд░ рдореЗрдВ рдХрд┐рддрдиреЗ рд╕рджрд╕реНрдп рд╣реИрдВ?
                    </label>
                    <input type="number" class="profile-input" id="familyMembers" placeholder="4" value="4" min="1" max="15">
                </div>
                
                <div style="margin-bottom: 16px;">
                    <label style="font-size: 14px; font-weight: 600; color: var(--text-dark); margin-bottom: 8px; display: block;">
                        ЁЯОУ рдмрдЪреНрдЪреЛрдВ рдХреА рд╕рдВрдЦреНрдпрд╛:
                    </label>
                    <input type="number" class="profile-input" id="children" placeholder="2" value="2" min="0" max="10">
                </div>
            </div>
        </div>
        
        <div class="navigation">
            <button class="nav-btn" onclick="proceedToBudgetSetup()">тЮбя╕П рдмрдЬрдЯ рд╕реЗрдЯрдЕрдк</button>
        </div>
    </div>

    <!-- Budget Setup Screen -->
    <div class="screen" id="budgetSetup">
        <div class="app-bar">
            <h1>ЁЯТ░ рдЕрдкрдирд╛ рдмрдЬрдЯ рд╕реЗрдЯ рдХрд░реЗрдВ</h1>
            <p>рдЖрдкрдХреА рдЖрд░реНрдерд┐рдХ рд╕реНрдерд┐рддрд┐ рдХреЗ рдЕрдиреБрд╕рд╛рд░ рдЦреЗрд▓ рдХреЛ customize рдХрд░реЗрдВ</p>
        </div>
        
        <div class="content">
            <!-- Personal Budget Setup -->
            <div class="card budget-setup-card">
                <h3 style="margin-bottom: 20px; font-size: 20px; font-weight: 700; color: var(--sky-blue);">
                    ЁЯПа рдЖрдкрдХреА рд╡рд░реНрддрдорд╛рди рдЖрд░реНрдерд┐рдХ рд╕реНрдерд┐рддрд┐
                </h3>
                
                <div style="margin-bottom: 20px;">
                    <div style="font-size: 16px; font-weight: 600; color: var(--text-dark); margin-bottom: 8px; display: flex; align-items: center;">
                        ЁЯТ╡ рдЖрдкрдХреЗ рдкрд╛рд╕ рдХрд┐рддрдиреЗ рдкреИрд╕реЗ рд╣реИрдВ?
                    </div>
                    <input type="number" class="budget-input" id="currentMoney" placeholder="15000" value="15000">
                    <div style="font-size: 12px; color: var(--text-medium); margin-top: 4px;">
                        рдЬреИрд╕реЗ: тВ╣5,000 рд╕реЗ тВ╣50,000 рддрдХ
                    </div>
                </div>
                
                <div style="margin-bottom: 20px;">
                    <div style="font-size: 16px; font-weight: 600; color: var(--text-dark); margin-bottom: 8px; display: flex; align-items: center;">
                        ЁЯПж рдЖрдкрдХреА рдмрдЪрдд рдХрд┐рддрдиреА рд╣реИ?
                    </div>
                    <input type="number" class="budget-input" id="savings" placeholder="5000" value="5000">
                    <div style="font-size: 12px; color: var(--text-medium); margin-top: 4px;">
                        рдЖрдкрд╛рддрдХрд╛рд▓ рдХреЗ рд▓рд┐рдП рдЕрд▓рдЧ рд░рдЦреЗ рдЧрдП рдкреИрд╕реЗ
                    </div>
                </div>
                
                <div style="margin-bottom: 20px;">
                    <div style="font-size: 16px; font-weight: 600; color: var(--text-dark); margin-bottom: 8px; display: flex; align-items: center;">
                        ЁЯТ│ рдХреЛрдИ рдХрд░реНрдЬ рд╣реИ?
                    </div>
                    <input type="number" class="budget-input" id="debt" placeholder="0" value="0">
                    <div style="font-size: 12px; color: var(--text-medium); margin-top: 4px;">
                        рдЕрдЧрд░ рдХреЛрдИ рдХрд░реНрдЬ рдирд╣реАрдВ рд╣реИ рддреЛ 0 рд▓рд┐рдЦреЗрдВ
                    </div>
                </div>
            </div>

            <!-- Quick Presets -->
            <div class="card">
                <h3 style="margin-bottom: 16px; font-size: 18px; font-weight: 700;">
                    тЪб рддреБрд░рдВрдд рдЪреБрдиреЗрдВ (Quick Presets)
                </h3>
                <p style="color: var(--text-medium); margin-bottom: 16px; font-size: 14px;">
                    рдЕрдкрдиреА рд╕реНрдерд┐рддрд┐ рдХреЗ рдЕрдиреБрд╕рд╛рд░ рдХреЛрдИ рдПрдХ рд╡рд┐рдХрд▓реНрдк рдЪреБрдиреЗрдВ
                </p>
                
                <div class="budget-presets">
                    <div class="budget-preset" onclick="setPreset('small')">
                        <div class="preset-amount">тВ╣8K</div>
                        <div class="preset-label">рдЫреЛрдЯрд╛ рдХрд┐рд╕рд╛рди</div>
                    </div>
                    <div class="budget-preset selected" onclick="setPreset('medium')">
                        <div class="preset-amount">тВ╣15K</div>
                        <div class="preset-label">рдордзреНрдпрдо рдХрд┐рд╕рд╛рди</div>
                    </div>
                    <div class="budget-preset" onclick="setPreset('large')">
                        <div class="preset-amount">тВ╣25K</div>
                        <div class="preset-label">рдмрдбрд╝рд╛ рдХрд┐рд╕рд╛рди</div>
                    </div>
                    <div class="budget-preset" onclick="setPreset('rich')">
                        <div class="preset-amount">тВ╣40K</div>
                        <div class="preset-label">рд╕рдореГрджреНрдз рдХрд┐рд╕рд╛рди</div>
                    </div>
                </div>
            </div>
            <!-- Land Size -->
            <div class="card">
                <h3 style="margin-bottom: 16px; font-size: 18px; font-weight: 700;">
                    ЁЯЪЬ рдЖрдкрдХреА рдЬрдореАрди рдХрд┐рддрдиреА рд╣реИ?
                </h3>
                
                <div style="margin-bottom: 20px;">
                    <div style="font-size: 16px; font-weight: 600; color: var(--text-dark); margin-bottom: 8px; display: flex; align-items: center;">
                        ЁЯУП рдЬрдореАрди рдХрд╛ рдЖрдХрд╛рд░ (рдПрдХрдбрд╝ рдореЗрдВ)
                    </div>
                    <input type="number" class="budget-input" id="landSize" placeholder="2" value="2" step="0.5" min="0.5" max="10">
                    <div style="font-size: 12px; color: var(--text-medium); margin-top: 4px;">
                        0.5 рд╕реЗ 10 рдПрдХрдбрд╝ рддрдХ
                    </div>
                </div>
            </div>

            <!-- Combined Summary -->
            <div class="card">
                <h3 style="margin-bottom: 16px; font-size: 18px; font-weight: 700;">
                    ЁЯУК рдкреВрд░рд╛ рд╕рд╛рд░рд╛рдВрд╢
                </h3>
                
                <div style="background: rgba(46, 125, 50, 0.1); border-radius: 12px; padding: 16px; margin-top: 20px;">
                    <div class="summary-row">
                        <span class="summary-label">ЁЯСд рдирд╛рдо:</span>
                        <span class="summary-value" id="summaryName">рд░рд╛рдо рдХреБрдорд╛рд░</span>
                    </div>
                    <div class="summary-row">
                        <span class="summary-label">ЁЯУН рд╕реНрдерд╛рди:</span>
                        <span class="summary-value" id="summaryLocation">рд░рд╛рдордкреБрд░</span>
                    </div>
                    <div class="summary-row">
                        <span class="summary-label">ЁЯОВ рдЙрдореНрд░:</span>
                        <span class="summary-value" id="summaryAge">35 рд╕рд╛рд▓</span>
                    </div>
                    <div class="summary-row">
                        <span class="summary-label">ЁЯЪЬ рдЕрдиреБрднрд╡:</span>
                        <span class="summary-value" id="summaryExperience">5 рд╕рд╛рд▓</span>
                    </div>
                    <div class="summary-row">
                        <span class="summary-label">ЁЯСитАНЁЯСйтАНЁЯСзтАНЁЯСж рдкрд░рд┐рд╡рд╛рд░:</span>
                        <span class="summary-value" id="summaryFamily">4 рд╕рджрд╕реНрдп</span>
                    </div>
                    <div class="summary-row">
                        <span class="summary-label">ЁЯТ╡ рдХреБрд▓ рдкреИрд╕реЗ:</span>
                        <span class="summary-value" id="totalMoney">тВ╣15,000</span>
                    </div>
                    <div class="summary-row">
                        <span class="summary-label">ЁЯПж рдмрдЪрдд:</span>
                        <span class="summary-value" id="totalSavings">тВ╣5,000</span>
                    </div>
                    <div class="summary-row">
                        <span class="summary-label">ЁЯТ│ рдХрд░реНрдЬ:</span>
                        <span class="summary-value" id="totalDebt">тВ╣0</span>
                    </div>
                    <div class="summary-row">
                        <span class="summary-label">ЁЯУП рдЬрдореАрди:</span>
                        <span class="summary-value" id="totalLand">2 рдПрдХрдбрд╝</span>
                    </div>
                    <hr style="margin: 12px 0; border: none; height: 1px; background: rgba(46, 125, 50, 0.2);">
                    <div class="summary-row">
                        <span class="summary-label" style="font-weight: 700;">ЁЯТ░ рдХреБрд▓ рд╕рдВрдкрддреНрддрд┐:</span>
                        <span class="summary-value" id="netWorth" style="font-size: 18px;">тВ╣20,000</span>
                    </div>
                </div>
                
                <div style="margin-top: 16px; padding: 12px; background: #E8F5E8; border-radius: 12px;">
                    <p style="font-size: 12px; color: var(--primary-green); font-weight: 600;" id="combinedAdvice">
                        ЁЯТб рдЕрдиреБрднрд╡реА рдХрд┐рд╕рд╛рди рд╣реИрдВ рдФрд░ рдЕрдЪреНрдЫреА рдЖрд░реНрдерд┐рдХ рд╕реНрдерд┐рддрд┐ рд╣реИред рдордзреНрдпрдо рдЬреЛрдЦрд┐рдо рд╡рд╛рд▓реА рдлрд╕рд▓реЗрдВ рд▓рдЧрд╛ рд╕рдХрддреЗ рд╣реИрдВред
                    </p>
                </div>
            </div>
        </div>
        
        <div class="navigation">
            <button class="nav-btn secondary" onclick="showScreen('profileSetup')">тмЕя╕П рд╡рд╛рдкрд╕</button>
            <button class="nav-btn" onclick="startGameWithCompleteSetup()">ЁЯОо рдЦреЗрд▓ рд╢реБрд░реВ рдХрд░реЗрдВ</button>
        </div>
    </div>
    <!-- Dashboard Screen -->
    <div class="screen" id="dashboard">
        <div class="app-bar">
            <h1 id="dashboardName">рд░рд╛рдо рдХреБрдорд╛рд░</h1>
            <p id="dashboardLocation">рд░рд╛рдордкреБрд░ тАв рдЦрд░реАрдлрд╝ (Kharif) тАв рд╡рд░реНрд╖ 1</p>
        </div>
        
        <div class="content">
            <!-- Profile Header Card -->
            <div class="card profile-card">
                <div style="display: flex; align-items: center; margin-bottom: 20px;">
                    <div class="profile-avatar" id="dashboardAvatar" style="width: 60px; height: 60px; font-size: 24px;">
                        ЁЯзСтАНЁЯМ╛
                    </div>
                    <div style="margin-left: 16px; flex: 1;">
                        <div style="font-size: 20px; font-weight: 700; color: var(--text-dark); margin-bottom: 4px;" id="dashboardProfileName">рд░рд╛рдо рдХреБрдорд╛рд░</div>
                        <div style="font-size: 14px; color: var(--text-medium);" id="dashboardProfileLocation">рд░рд╛рдордкреБрд░ тАв 35 рд╕рд╛рд▓ тАв 5 рд╕рд╛рд▓ рдЕрдиреБрднрд╡</div>
                    </div>
                    <button style="background: var(--sky-blue); color: white; border: none; padding: 8px 16px; border-radius: 20px; font-size: 12px; font-weight: 600; cursor: pointer;" onclick="editProfile()">тЬПя╕П Edit</button>
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 12px; margin-top: 16px;">
                    <div style="text-align: center; padding: 12px; background: rgba(46, 125, 50, 0.1); border-radius: 12px;">
                        <div style="font-size: 20px; margin-bottom: 4px;">ЁЯСитАНЁЯСйтАНЁЯСзтАНЁЯСж</div>
                        <div style="font-size: 12px; color: var(--text-medium);" id="dashboardFamily">4 рд╕рджрд╕реНрдп</div>
                    </div>
                    <div style="text-align: center; padding: 12px; background: rgba(46, 125, 50, 0.1); border-radius: 12px;">
                        <div style="font-size: 20px; margin-bottom: 4px;">ЁЯЪЬ</div>
                        <div style="font-size: 12px; color: var(--text-medium);" id="dashboardExperience">5 рд╕рд╛рд▓</div>
                    </div>
                    <div style="text-align: center; padding: 12px; background: rgba(46, 125, 50, 0.1); border-radius: 12px;">
                        <div style="font-size: 20px; margin-bottom: 4px;">ЁЯУП</div>
                        <div style="font-size: 12px; color: var(--text-medium);" id="dashboardLand">2 рдПрдХрдбрд╝</div>
                    </div>
                </div>
            </div>

            <!-- Financial Status Card -->
            <div class="card financial-card">
                <h3 style="margin-bottom: 20px; font-size: 20px; font-weight: 700;">ЁЯТ░ рдЖрд░реНрдерд┐рдХ рд╕реНрдерд┐рддрд┐</h3>
                <div class="metric-grid">
                    <div class="metric">
                        <div class="metric-label">рдирдХрдж рдкреИрд╕реЗ</div>
                        <div class="metric-value" id="displayCurrentMoney">тВ╣15K</div>
                    </div>
                    <div class="metric">
                        <div class="metric-label">рдмрдЪрдд</div>
                        <div class="metric-value" id="displaySavings">тВ╣5K</div>
                    </div>
                    <div class="metric">
                        <div class="metric-label">рдХрд░реНрдЬ</div>
                        <div class="metric-value" id="displayDebt">тВ╣0</div>
                    </div>
                    <div class="metric">
                        <div class="metric-label">рдХреБрд▓ рд╕рдВрдкрддреНрддрд┐</div>
                        <div class="metric-value" id="displayNetWorth">тВ╣20K</div>
                    </div>
                </div>
            </div>

            <!-- Quick Actions -->
            <div class="card">
                <h3 style="margin-bottom: 20px; font-size: 18px; font-weight: 700;">тЪб рддреНрд╡рд░рд┐рдд рдХрд╛рд░реНрдп</h3>
                <div class="quick-actions">
                    <div class="quick-action" onclick="editProfile()">
                        <div class="quick-action-icon">ЁЯСд</div>
                        <div class="quick-action-text">рдкреНрд░реЛрдлрд╛рдЗрд▓<br>рдПрдбрд┐рдЯ рдХрд░реЗрдВ</div>
                    </div>
                    <div class="quick-action" onclick="editBudget()">
                        <div class="quick-action-icon">ЁЯТ░</div>
                        <div class="quick-action-text">рдмрдЬрдЯ<br>рдмрджрд▓реЗрдВ</div>
                    </div>
                    <div class="quick-action" onclick="showStats()">
                        <div class="quick-action-icon">ЁЯУК</div>
                        <div class="quick-action-text">рдЖрдВрдХрдбрд╝реЗ<br>рджреЗрдЦреЗрдВ</div>
                    </div>
                    <div class="quick-action" onclick="resetAll()">
                        <div class="quick-action-icon">ЁЯФД</div>
                        <div class="quick-action-text">рд░реАрд╕реЗрдЯ<br>рдХрд░реЗрдВ</div>
                    </div>
                </div>
            </div>
            <!-- Personalized Tips -->
            <div class="card" style="background: linear-gradient(135deg, #E8F5E8 0%, #F1F8E9 100%);">
                <h3 style="margin-bottom: 20px; font-size: 18px; font-weight: 700; color: var(--primary-green);">ЁЯТб рдЖрдкрдХреЗ рд▓рд┐рдП рдЦрд╛рд╕ рд╕реБрдЭрд╛рд╡</h3>
                <div id="personalizedTips">
                    <div style="margin-bottom: 12px; display: flex; align-items: start;">
                        <span style="color: var(--primary-green); margin-right: 8px; font-size: 16px;">тЬУ</span>
                        <span style="font-weight: 500;">рдЖрдкрдХреЗ рдЕрдиреБрднрд╡ рдФрд░ рдмрдЬрдЯ рдХреЗ рдЕрдиреБрд╕рд╛рд░ рдзрд╛рди рдФрд░ рдордХреНрдХрд╛ рджреЛрдиреЛрдВ рд▓рдЧрд╛ рд╕рдХрддреЗ рд╣реИрдВ</span>
                    </div>
                    <div style="margin-bottom: 12px; display: flex; align-items: start;">
                        <span style="color: var(--primary-green); margin-right: 8px; font-size: 16px;">тЬУ</span>
                        <span style="font-weight: 500;">4 рд╕рджрд╕реНрдпреЛрдВ рдХреЗ рдкрд░рд┐рд╡рд╛рд░ рдХреЗ рд▓рд┐рдП рдХрдо рд╕реЗ рдХрдо тВ╣5000 рдЖрдкрд╛рддрдХрд╛рд▓ рдлрдВрдб рд░рдЦреЗрдВ</span>
                    </div>
                    <div style="display: flex; align-items: start;">
                        <span style="color: var(--primary-green); margin-right: 8px; font-size: 16px;">тЬУ</span>
                        <span style="font-weight: 500;">2 рдПрдХрдбрд╝ рдЬрдореАрди рдореЗрдВ рдорд┐рд╢реНрд░рд┐рдд рдЦреЗрддреА рдХрд░рдХреЗ рдЬреЛрдЦрд┐рдо рдХрдо рдХрд░реЗрдВ</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Combined user data structure
        let userData = {
            profile: {
                name: 'рд░рд╛рдо рдХреБрдорд╛рд░',
                avatar: 'ЁЯзСтАНЁЯМ╛',
                location: 'рд░рд╛рдордкреБрд░',
                age: 35,
                experience: 5,
                familyMembers: 4,
                children: 2,
                createdAt: new Date().toISOString()
            },
            budget: {
                money: 15000,
                savings: 5000,
                debt: 0,
                landSize: 2,
                initialBudget: 20000,
                budgetHistory: []
            }
        };

        // Budget presets
        const budgetPresets = {
            small: { money: 8000, savings: 2000, debt: 1000, land: 1 },
            medium: { money: 15000, savings: 5000, debt: 0, land: 2 },
            large: { money: 25000, savings: 8000, debt: 2000, land: 3 },
            rich: { money: 40000, savings: 15000, debt: 5000, land: 5 }
        };

        function toggleAvatarSelector() {
            const selector = document.getElementById('avatarSelector');
            selector.style.display = selector.style.display === 'none' ? 'block' : 'none';
        }

        function selectAvatar(emoji) {
            // Remove selection from all avatars
            document.querySelectorAll('.avatar-option').forEach(option => {
                option.classList.remove('selected');
            });
            
            // Select clicked avatar
            event.target.classList.add('selected');
            
            // Update main avatar
            document.getElementById('selectedAvatar').textContent = emoji;
            userData.profile.avatar = emoji;
            
            // Hide selector
            document.getElementById('avatarSelector').style.display = 'none';
            
            updateCombinedSummary();
            speak(`${getAvatarName(emoji)} рдЕрд╡рддрд╛рд░ рдЪреБрдирд╛ рдЧрдпрд╛ред`);
        }

        function getAvatarName(emoji) {
            const names = {
                'ЁЯзСтАНЁЯМ╛': 'рдХрд┐рд╕рд╛рди',
                'ЁЯСитАНЁЯМ╛': 'рдкреБрд░реБрд╖ рдХрд┐рд╕рд╛рди',
                'ЁЯСйтАНЁЯМ╛': 'рдорд╣рд┐рд▓рд╛ рдХрд┐рд╕рд╛рди',
                'ЁЯзФтАНтЩВя╕П': 'рджрд╛рдврд╝реА рд╡рд╛рд▓реЗ рдХрд┐рд╕рд╛рди',
                'ЁЯС┤': 'рдмреБрдЬреБрд░реНрдЧ рдХрд┐рд╕рд╛рди',
                'ЁЯС╡': 'рдмреБрдЬреБрд░реНрдЧ рдорд╣рд┐рд▓рд╛ рдХрд┐рд╕рд╛рди',
                'ЁЯзС': 'рдпреБрд╡рд╛ рдХрд┐рд╕рд╛рди',
                'ЁЯСж': 'рдирдпрд╛ рдХрд┐рд╕рд╛рди'
            };
            return names[emoji] || 'рдХрд┐рд╕рд╛рди';
        }
        function selectLocation(village, state) {
            // Remove selection from all locations
            document.querySelectorAll('.location-option').forEach(option => {
                option.classList.remove('selected');
            });
            
            // Select clicked location
            event.target.closest('.location-option').classList.add('selected');
            
            // Update custom location input
            document.getElementById('customLocation').value = `${village}, ${state}`;
            userData.profile.location = village;
            
            updateCombinedSummary();
            speak(`${village}, ${state} рдЪреБрдирд╛ рдЧрдпрд╛ред`);
        }

        function setPreset(presetType) {
            // Remove selection from all presets
            document.querySelectorAll('.budget-preset').forEach(preset => {
                preset.classList.remove('selected');
            });
            
            // Select clicked preset
            event.target.closest('.budget-preset').classList.add('selected');
            
            const preset = budgetPresets[presetType];
            
            // Update input fields
            document.getElementById('currentMoney').value = preset.money;
            document.getElementById('savings').value = preset.savings;
            document.getElementById('debt').value = preset.debt;
            document.getElementById('landSize').value = preset.land;
            
            // Update budget data
            userData.budget.money = preset.money;
            userData.budget.savings = preset.savings;
            userData.budget.debt = preset.debt;
            userData.budget.landSize = preset.land;
            
            // Update summary
            updateCombinedSummary();
            
            // Voice feedback
            speak(`${presetType === 'small' ? 'рдЫреЛрдЯрд╛' : presetType === 'medium' ? 'рдордзреНрдпрдо' : presetType === 'large' ? 'рдмрдбрд╝рд╛' : 'рд╕рдореГрджреНрдз'} рдХрд┐рд╕рд╛рди рдХрд╛ рдмрдЬрдЯ рдЪреБрдирд╛ рдЧрдпрд╛ред`);
        }

        function updateCombinedSummary() {
            // Get current values
            const name = document.getElementById('farmerName').value || 'рд░рд╛рдо рдХреБрдорд╛рд░';
            const location = document.getElementById('customLocation').value || userData.profile.location;
            const age = parseInt(document.getElementById('farmerAge').value) || 35;
            const experience = parseInt(document.getElementById('farmingExperience').value) || 5;
            const family = parseInt(document.getElementById('familyMembers').value) || 4;
            const children = parseInt(document.getElementById('children').value) || 2;
            const money = parseInt(document.getElementById('currentMoney').value) || 15000;
            const savings = parseInt(document.getElementById('savings').value) || 5000;
            const debt = parseInt(document.getElementById('debt').value) || 0;
            const land = parseFloat(document.getElementById('landSize').value) || 2;
            
            const netWorth = money + savings - debt;
            
            // Update profile data
            userData.profile.name = name;
            userData.profile.location = location.split(',')[0];
            userData.profile.age = age;
            userData.profile.experience = experience;
            userData.profile.familyMembers = family;
            userData.profile.children = children;
            
            // Update budget data
            userData.budget.money = money;
            userData.budget.savings = savings;
            userData.budget.debt = debt;
            userData.budget.landSize = land;
            userData.budget.initialBudget = netWorth;
            
            // Update summary display
            document.getElementById('summaryName').textContent = name;
            document.getElementById('summaryLocation').textContent = location.split(',')[0];
            document.getElementById('summaryAge').textContent = `${age} рд╕рд╛рд▓`;
            document.getElementById('summaryExperience').textContent = `${experience} рд╕рд╛рд▓`;
            document.getElementById('summaryFamily').textContent = `${family} рд╕рджрд╕реНрдп`;
            document.getElementById('totalMoney').textContent = `тВ╣${money.toLocaleString()}`;
            document.getElementById('totalSavings').textContent = `тВ╣${savings.toLocaleString()}`;
            document.getElementById('totalDebt').textContent = `тВ╣${debt.toLocaleString()}`;
            document.getElementById('totalLand').textContent = `${land} рдПрдХрдбрд╝`;
            document.getElementById('netWorth').textContent = `тВ╣${netWorth.toLocaleString()}`;
            
            // Generate combined advice
            let advice = '';
            if (experience >= 10 && netWorth > 30000) {
                advice = 'ЁЯТб рдмрд╣реБрдд рдЕрдиреБрднрд╡реА рдХрд┐рд╕рд╛рди рд╣реИрдВ рдФрд░ рдмрд╣реБрдд рдЕрдЪреНрдЫреА рдЖрд░реНрдерд┐рдХ рд╕реНрдерд┐рддрд┐ рд╣реИред рдЙрдЪреНрдЪ рдЬреЛрдЦрд┐рдо рд╡рд╛рд▓реА рдлрд╕рд▓реЗрдВ рднреА рд▓рдЧрд╛ рд╕рдХрддреЗ рд╣реИрдВред';
            } else if (experience >= 5 && netWorth > 15000) {
                advice = 'ЁЯТб рдЕрдиреБрднрд╡реА рдХрд┐рд╕рд╛рди рд╣реИрдВ рдФрд░ рдЕрдЪреНрдЫреА рдЖрд░реНрдерд┐рдХ рд╕реНрдерд┐рддрд┐ рд╣реИред рдордзреНрдпрдо рдЬреЛрдЦрд┐рдо рд╡рд╛рд▓реА рдлрд╕рд▓реЗрдВ рд▓рдЧрд╛ рд╕рдХрддреЗ рд╣реИрдВред';
            } else if (experience >= 2 && netWorth > 8000) {
                advice = 'ЁЯТб рдХреБрдЫ рдЕрдиреБрднрд╡ рд╣реИ рдФрд░ рдареАрдХ рдЖрд░реНрдерд┐рдХ рд╕реНрдерд┐рддрд┐ рд╣реИред рд╕реБрд░рдХреНрд╖рд┐рдд рдлрд╕рд▓реЛрдВ рд╕реЗ рд╢реБрд░реБрдЖрдд рдХрд░реЗрдВред';
            } else {
                advice = 'ЁЯТб рдирдП рдХрд┐рд╕рд╛рди рд╣реИрдВ рдпрд╛ рдХрдо рдмрдЬрдЯ рд╣реИред рдХрдо рдЬреЛрдЦрд┐рдо рд╡рд╛рд▓реА рдлрд╕рд▓реЗрдВ рдЪреБрдиреЗрдВ рдФрд░ рд╕реАрдЦрддреЗ рд░рд╣реЗрдВред';
            }
            
            document.getElementById('combinedAdvice').textContent = advice;
        }
        function proceedToBudgetSetup() {
            // Validate profile data
            if (!userData.profile.name.trim()) {
                speak('рдХреГрдкрдпрд╛ рдЕрдкрдирд╛ рдирд╛рдо рднрд░реЗрдВред');
                return;
            }
            
            if (!userData.profile.location.trim()) {
                speak('рдХреГрдкрдпрд╛ рдЕрдкрдирд╛ рд╕реНрдерд╛рди рднрд░реЗрдВред');
                return;
            }
            
            updateCombinedSummary();
            showScreen('budgetSetup');
            speak('рдЕрдм рдЕрдкрдирд╛ рдмрдЬрдЯ рд╕реЗрдЯ рдХрд░реЗрдВред');
        }

        function startGameWithCompleteSetup() {
            // Final validation
            if (userData.budget.money < 1000) {
                speak('рдХрдо рд╕реЗ рдХрдо тВ╣1000 рддреЛ рд╣реЛрдиреЗ рдЪрд╛рд╣рд┐рдП рдЦреЗрддреА рд╢реБрд░реВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдПред');
                return;
            }
            
            if (userData.budget.landSize < 0.5) {
                speak('рдХрдо рд╕реЗ рдХрдо рдЖрдзрд╛ рдПрдХрдбрд╝ рдЬрдореАрди рддреЛ рдЪрд╛рд╣рд┐рдПред');
                return;
            }
            
            // Save complete data to localStorage
            localStorage.setItem('alicePisaCompleteData', JSON.stringify(userData));
            
            // Update dashboard
            updateDashboard();
            
            // Show dashboard
            showScreen('dashboard');
            
            const netWorth = userData.budget.money + userData.budget.savings - userData.budget.debt;
            speak(`рдмрд╣реБрдд рдЕрдЪреНрдЫрд╛ ${userData.profile.name} рдЬреА! рдЖрдкрдХреА рдкреНрд░реЛрдлрд╛рдЗрд▓ рдФрд░ рдмрдЬрдЯ рджреЛрдиреЛрдВ рд╕реЗрдЯ рд╣реЛ рдЧрдПред рдХреБрд▓ рд╕рдВрдкрддреНрддрд┐ тВ╣${netWorth.toLocaleString()} рд╣реИред рдЕрдм рдЦреЗрддреА рд╢реБрд░реВ рдХрд░рддреЗ рд╣реИрдВред`);
        }

        function updateDashboard() {
            // Update profile section
            document.getElementById('dashboardName').textContent = userData.profile.name;
            document.getElementById('dashboardLocation').textContent = `${userData.profile.location} тАв рдЦрд░реАрдлрд╝ (Kharif) тАв рд╡рд░реНрд╖ 1`;
            document.getElementById('dashboardAvatar').textContent = userData.profile.avatar;
            document.getElementById('dashboardProfileName').textContent = userData.profile.name;
            document.getElementById('dashboardProfileLocation').textContent = `${userData.profile.location} тАв ${userData.profile.age} рд╕рд╛рд▓ тАв ${userData.profile.experience} рд╕рд╛рд▓ рдЕрдиреБрднрд╡`;
            document.getElementById('dashboardFamily').textContent = `${userData.profile.familyMembers} рд╕рджрд╕реНрдп`;
            document.getElementById('dashboardExperience').textContent = `${userData.profile.experience} рд╕рд╛рд▓`;
            document.getElementById('dashboardLand').textContent = `${userData.budget.landSize} рдПрдХрдбрд╝`;
            
            // Update financial section
            document.getElementById('displayCurrentMoney').textContent = `тВ╣${Math.round(userData.budget.money/1000)}K`;
            document.getElementById('displaySavings').textContent = `тВ╣${Math.round(userData.budget.savings/1000)}K`;
            document.getElementById('displayDebt').textContent = `тВ╣${Math.round(userData.budget.debt/1000)}K`;
            
            const netWorth = userData.budget.money + userData.budget.savings - userData.budget.debt;
            document.getElementById('displayNetWorth').textContent = `тВ╣${Math.round(netWorth/1000)}K`;
            
            updatePersonalizedTips();
        }

        function updatePersonalizedTips() {
            const tips = [];
            
            // Experience and budget based tips
            if (userData.profile.experience >= 5 && userData.budget.money > 15000) {
                tips.push('рдЖрдкрдХреЗ рдЕрдиреБрднрд╡ рдФрд░ рдмрдЬрдЯ рдХреЗ рдЕрдиреБрд╕рд╛рд░ рдзрд╛рди рдФрд░ рдордХреНрдХрд╛ рджреЛрдиреЛрдВ рд▓рдЧрд╛ рд╕рдХрддреЗ рд╣реИрдВ');
            } else if (userData.profile.experience < 3) {
                tips.push('рдирдП рдХрд┐рд╕рд╛рди рд╣реИрдВ, рдкрд╣рд▓реЗ рдзрд╛рди рд╕реЗ рд╢реБрд░реБрдЖрдд рдХрд░реЗрдВ');
            } else {
                tips.push('рдордзреНрдпрдо рдЕрдиреБрднрд╡ рд╣реИ, рд╕реБрд░рдХреНрд╖рд┐рдд рдлрд╕рд▓реЛрдВ рдкрд░ рдлреЛрдХрд╕ рдХрд░реЗрдВ');
            }
            
            // Family-based tips
            const emergencyFund = userData.profile.familyMembers * 1250;
            tips.push(`${userData.profile.familyMembers} рд╕рджрд╕реНрдпреЛрдВ рдХреЗ рдкрд░рд┐рд╡рд╛рд░ рдХреЗ рд▓рд┐рдП рдХрдо рд╕реЗ рдХрдо тВ╣${emergencyFund} рдЖрдкрд╛рддрдХрд╛рд▓ рдлрдВрдб рд░рдЦреЗрдВ`);
            
            // Land-based tips
            if (userData.budget.landSize >= 3) {
                tips.push(`${userData.budget.landSize} рдПрдХрдбрд╝ рдЬрдореАрди рдореЗрдВ рдорд┐рд╢реНрд░рд┐рдд рдЦреЗрддреА рдХрд░рдХреЗ рдЬреЛрдЦрд┐рдо рдХрдо рдХрд░реЗрдВ`);
            } else if (userData.budget.landSize >= 1) {
                tips.push(`${userData.budget.landSize} рдПрдХрдбрд╝ рдЬрдореАрди рдореЗрдВ рдзрд╛рди рдпрд╛ рдордХреНрдХрд╛ рд▓рдЧрд╛рдПрдВ`);
            } else {
                tips.push('рдЫреЛрдЯреА рдЬрдореАрди рд╣реИ, рд╕рдмреНрдЬреА рдЙрдЧрд╛рдирд╛ рдмреЗрд╣рддрд░ рд╣реЛрдЧрд╛');
            }
            
            // Children-based tips
            if (userData.profile.children > 0) {
                tips.push('рдмрдЪреНрдЪреЛрдВ рдХреА рдкрдврд╝рд╛рдИ рдХреЗ рд▓рд┐рдП рдЕрд▓рдЧ рд╕реЗ рдмрдЪрдд рдХрд░реЗрдВ');
            }
            
            // Age-based tips
            if (userData.profile.age > 50) {
                tips.push('рд╕реНрд╡рд╛рд╕реНрдереНрдп рдмреАрдорд╛ рдЬрд░реВрд░ рдХрд░рд╛рдПрдВ');
            }
            
            const tipsContainer = document.getElementById('personalizedTips');
            tipsContainer.innerHTML = tips.slice(0, 3).map(tip => `
                <div style="margin-bottom: 12px; display: flex; align-items: start;">
                    <span style="color: var(--primary-green); margin-right: 8px; font-size: 16px;">тЬУ</span>
                    <span style="font-weight: 500;">${tip}</span>
                </div>
            `).join('');
        }
        function editProfile() {
            // Populate form with current data
            document.getElementById('farmerName').value = userData.profile.name;
            document.getElementById('customLocation').value = userData.profile.location;
            document.getElementById('farmerAge').value = userData.profile.age;
            document.getElementById('farmingExperience').value = userData.profile.experience;
            document.getElementById('familyMembers').value = userData.profile.familyMembers;
            document.getElementById('children').value = userData.profile.children;
            document.getElementById('selectedAvatar').textContent = userData.profile.avatar;
            
            showScreen('profileSetup');
            speak('рдкреНрд░реЛрдлрд╛рдЗрд▓ рдПрдбрд┐рдЯ рдореЛрдб рдореЗрдВ рдЦреБрд▓ рдЧрдпрд╛ред рдмрджрд▓рд╛рд╡ рдХрд░рдХреЗ рдЖрдЧреЗ рдмрдврд╝реЗрдВред');
        }

        function editBudget() {
            // Populate budget form with current data
            document.getElementById('currentMoney').value = userData.budget.money;
            document.getElementById('savings').value = userData.budget.savings;
            document.getElementById('debt').value = userData.budget.debt;
            document.getElementById('landSize').value = userData.budget.landSize;
            
            showScreen('budgetSetup');
            speak('рдмрдЬрдЯ рдПрдбрд┐рдЯ рдореЛрдб рдореЗрдВ рдЦреБрд▓ рдЧрдпрд╛ред рдмрджрд▓рд╛рд╡ рдХрд░рдХреЗ рд╕реЗрд╡ рдХрд░реЗрдВред');
        }

        function showStats() {
            const netWorth = userData.budget.money + userData.budget.savings - userData.budget.debt;
            const createdDate = new Date(userData.profile.createdAt).toLocaleDateString('hi-IN');
            
            const stats = `ЁЯУК рдкреВрд░реЗ рдЖрдВрдХрдбрд╝реЗ:\n`;
            const report = `рдирд╛рдо: ${userData.profile.name}\nрд╕реНрдерд╛рди: ${userData.profile.location}\nрдЙрдореНрд░: ${userData.profile.age} рд╕рд╛рд▓\nрдЕрдиреБрднрд╡: ${userData.profile.experience} рд╕рд╛рд▓\nрдкрд░рд┐рд╡рд╛рд░: ${userData.profile.familyMembers} рд╕рджрд╕реНрдп\nрдЬрдореАрди: ${userData.budget.landSize} рдПрдХрдбрд╝\nрдХреБрд▓ рд╕рдВрдкрддреНрддрд┐: тВ╣${netWorth.toLocaleString()}\nрдкреНрд░реЛрдлрд╛рдЗрд▓ рдмрдирд╛рдИ: ${createdDate}`;
            
            speak(stats + report);
        }

        function resetAll() {
            if (confirm('рдХреНрдпрд╛ рдЖрдк рд╡рд╛рдХрдИ рд╕рдм рдХреБрдЫ рд░реАрд╕реЗрдЯ рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ? рд╕рд╛рд░реА рдЬрд╛рдирдХрд╛рд░реА рдорд┐рдЯ рдЬрд╛рдПрдЧреАред')) {
                localStorage.removeItem('alicePisaCompleteData');
                
                // Reset to default values
                userData = {
                    profile: {
                        name: 'рд░рд╛рдо рдХреБрдорд╛рд░',
                        avatar: 'ЁЯзСтАНЁЯМ╛',
                        location: 'рд░рд╛рдордкреБрд░',
                        age: 35,
                        experience: 5,
                        familyMembers: 4,
                        children: 2,
                        createdAt: new Date().toISOString()
                    },
                    budget: {
                        money: 15000,
                        savings: 5000,
                        debt: 0,
                        landSize: 2,
                        initialBudget: 20000,
                        budgetHistory: []
                    }
                };
                
                showScreen('profileSetup');
                speak('рд╕рдм рдХреБрдЫ рд░реАрд╕реЗрдЯ рд╣реЛ рдЧрдпрд╛ред рдирдИ рд╢реБрд░реБрдЖрдд рдХрд░реЗрдВред');
            }
        }

        function showScreen(screenId) {
            document.querySelectorAll('.screen').forEach(screen => {
                screen.classList.remove('active');
            });
            document.getElementById(screenId).classList.add('active');
        }

        function speak(text) {
            const notification = document.createElement('div');
            notification.className = 'notification';
            notification.innerHTML = `
                <div style="display: flex; align-items: center; margin-bottom: 8px;">
                    <span style="font-size: 20px; margin-right: 8px;">ЁЯЧгя╕П</span>
                    <span style="font-weight: 700;">Alice Pisa</span>
                </div>
                <div style="line-height: 1.4;">"${text}"</div>
            `;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                if (document.body.contains(notification)) {
                    document.body.removeChild(notification);
                }
            }, 4000);
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            // Load saved data if exists
            const savedData = localStorage.getItem('alicePisaCompleteData');
            if (savedData) {
                userData = JSON.parse(savedData);
                updateDashboard();
                showScreen('dashboard');
                speak(`рдирдорд╕реНрддреЗ ${userData.profile.name} рдЬреА! рдЖрдкрдХреА рдкреВрд░реА рдЬрд╛рдирдХрд╛рд░реА рд▓реЛрдб рд╣реЛ рдЧрдИ рд╣реИред`);
            } else {
                // Add input listeners for real-time updates
                ['farmerName', 'customLocation', 'farmerAge', 'farmingExperience', 'familyMembers', 'children', 'currentMoney', 'savings', 'debt', 'landSize'].forEach(id => {
                    const element = document.getElementById(id);
                    if (element) {
                        element.addEventListener('input', updateCombinedSummary);
                    }
                });
                
                // Initial summary update
                updateCombinedSummary();
            }
        });
    </script>
</body>
</html>