<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Alice Pisa Premium - Enhanced UI</title>
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#2E7D32">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-green: #2E7D32;
            --light-green: #66BB6A;
            --earth-brown: #5D4037;
            --sun-yellow: #FFB300;
            --sky-blue: #1976D2;
            --warning-orange: #FF8F00;
            --danger-red: #D32F2F;
            --calm-green: #4CAF50;
            --worried-yellow: #FFEB3B;
            --stressed-orange: #FF9800;
            --desperate-red: #F44336;
            --surface-white: #FFFFFF;
            --background-light: #F8F9FA;
            --text-dark: #212121;
            --text-medium: #757575;
            --text-light: #BDBDBD;
            --shadow-light: rgba(0,0,0,0.1);
            --shadow-medium: rgba(0,0,0,0.15);
            --shadow-heavy: rgba(0,0,0,0.25);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }
        
        body {
            font-family: 'Poppins', -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(135deg, var(--background-light) 0%, #E8F5E8 100%);
            min-height: 100vh;
            overflow-x: hidden;
            touch-action: manipulation;
        }
        
        .screen {
            width: 100vw;
            min-height: 100vh;
            display: none;
            flex-direction: column;
            position: relative;
            animation: fadeIn 0.5s ease-out;
        }
        
        .screen.active {
            display: flex;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .app-bar {
            background: linear-gradient(135deg, var(--primary-green) 0%, var(--light-green) 100%);
            color: white;
            padding: max(env(safe-area-inset-top), 24px) 24px 24px 24px;
            text-align: center;
            position: relative;
            box-shadow: 0 4px 20px var(--shadow-medium);
        }
        
        .app-bar::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="20" cy="20" r="2" fill="rgba(255,255,255,0.1)"/><circle cx="80" cy="40" r="1.5" fill="rgba(255,255,255,0.1)"/><circle cx="40" cy="70" r="1" fill="rgba(255,255,255,0.1)"/></svg>');
            pointer-events: none;
        }
        
        .app-bar h1 {
            font-size: clamp(22px, 5.5vw, 32px);
            margin-bottom: 8px;
            font-weight: 700;
            text-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }
        
        .app-bar p {
            font-size: clamp(13px, 3.2vw, 18px);
            opacity: 0.95;
            font-weight: 500;
        }
        
        .content {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            padding-bottom: 120px;
        }
        
        .card {
            background: var(--surface-white);
            border-radius: 20px;
            padding: 24px;
            margin-bottom: 20px;
            box-shadow: 0 8px 32px var(--shadow-light);
            border: 1px solid rgba(255,255,255,0.2);
            backdrop-filter: blur(10px);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }
        
        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--primary-green), var(--light-green));
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .card:hover::before {
            opacity: 1;
        }
        
        .financial-card {
            background: linear-gradient(135deg, var(--calm-green) 0%, var(--light-green) 100%);
            color: white;
            border: none;
            position: relative;
            overflow: hidden;
        }
        
        .financial-card::after {
            content: 'üí∞';
            position: absolute;
            top: -10px;
            right: -10px;
            font-size: 120px;
            opacity: 0.1;
            transform: rotate(15deg);
        }
        
        .metric-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .metric {
            text-align: center;
            background: rgba(255,255,255,0.15);
            padding: 16px;
            border-radius: 16px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.2);
            transition: transform 0.3s ease;
        }
        
        .metric:hover {
            transform: translateY(-2px);
        }
        
        .metric-label {
            font-size: 12px;
            opacity: 0.9;
            margin-bottom: 6px;
            font-weight: 500;
        }
        
        .metric-value {
            font-size: clamp(18px, 4.5vw, 24px);
            font-weight: 700;
            text-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .progress-container {
            margin-top: 20px;
        }
        
        .progress-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 12px;
            font-size: 14px;
            font-weight: 600;
        }
        
        .progress-bar {
            width: 100%;
            height: 12px;
            background: rgba(255,255,255,0.25);
            border-radius: 8px;
            overflow: hidden;
            position: relative;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, rgba(255,255,255,0.9), rgba(255,255,255,1));
            border-radius: 8px;
            transition: width 0.8s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
        }
        
        .progress-fill::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
            animation: shimmer 2s infinite;
        }
        
        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }
        
        .stress-indicator {
            position: absolute;
            top: max(env(safe-area-inset-top), 24px);
            right: 24px;
            width: 48px;
            height: 48px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            z-index: 10;
            box-shadow: 0 4px 16px var(--shadow-medium);
            border: 3px solid rgba(255,255,255,0.3);
            backdrop-filter: blur(10px);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .stress-calm { 
            background: linear-gradient(135deg, var(--calm-green), #66BB6A);
            animation: breathe 3s ease-in-out infinite;
        }
        .stress-worried { 
            background: linear-gradient(135deg, var(--worried-yellow), #FFF176);
            animation: pulse 2s ease-in-out infinite;
        }
        .stress-stressed { 
            background: linear-gradient(135deg, var(--stressed-orange), #FFB74D);
            animation: shake 1.5s ease-in-out infinite;
        }
        .stress-desperate { 
            background: linear-gradient(135deg, var(--desperate-red), #EF5350);
            animation: panic 1s ease-in-out infinite;
        }
        
        @keyframes breathe {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
        
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-2px); }
            75% { transform: translateX(2px); }
        }
        
        @keyframes panic {
            0%, 100% { transform: scale(1) rotate(0deg); }
            25% { transform: scale(1.1) rotate(-2deg); }
            75% { transform: scale(1.1) rotate(2deg); }
        }
        
        .quick-actions {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 16px;
        }
        
        .quick-action {
            background: linear-gradient(135deg, var(--surface-white) 0%, #F8F9FA 100%);
            border: 2px solid transparent;
            border-radius: 20px;
            padding: 24px 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            min-height: 100px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            position: relative;
            overflow: hidden;
            box-shadow: 0 4px 16px var(--shadow-light);
        }
        
        .quick-action::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
            transition: left 0.5s ease;
        }
        
        .quick-action:hover::before {
            left: 100%;
        }
        
        .quick-action:active {
            transform: scale(0.95);
            box-shadow: 0 2px 8px var(--shadow-medium);
        }
        
        .quick-action:hover {
            transform: translateY(-4px);
            border-color: var(--primary-green);
            box-shadow: 0 8px 32px var(--shadow-medium);
        }
        
        .quick-action-icon {
            font-size: 32px;
            margin-bottom: 12px;
            filter: drop-shadow(0 2px 4px var(--shadow-light));
        }
        
        .quick-action-text {
            font-size: 13px;
            font-weight: 600;
            line-height: 1.3;
            color: var(--text-dark);
        }
        
        .crop-option {
            border: 2px solid #E8F5E8;
            border-radius: 20px;
            padding: 20px;
            margin-bottom: 16px;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            background: linear-gradient(135deg, var(--surface-white) 0%, #FAFAFA 100%);
            position: relative;
            overflow: hidden;
        }
        
        .crop-option::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, var(--primary-green), var(--light-green));
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .crop-option.selected::before {
            opacity: 0.1;
        }
        
        .crop-option:active {
            transform: scale(0.98);
        }
        
        .crop-option.selected {
            border-color: var(--primary-green);
            box-shadow: 0 8px 32px rgba(46, 125, 50, 0.2);
            transform: translateY(-2px);
        }
        
        .crop-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
            position: relative;
            z-index: 1;
        }
        
        .crop-name {
            font-size: 18px;
            font-weight: 700;
            color: var(--text-dark);
        }
        
        .risk-badge {
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 11px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            box-shadow: 0 2px 8px var(--shadow-light);
        }
        
        .risk-low { 
            background: linear-gradient(135deg, var(--calm-green), #66BB6A);
            color: white;
        }
        .risk-medium { 
            background: linear-gradient(135deg, var(--worried-yellow), #FFF176);
            color: var(--text-dark);
        }
        .risk-high { 
            background: linear-gradient(135deg, var(--desperate-red), #EF5350);
            color: white;
        }
        
        .crop-details {
            font-size: 13px;
            color: var(--text-medium);
            font-weight: 500;
            position: relative;
            z-index: 1;
        }
        
        .btn {
            background: linear-gradient(135deg, var(--primary-green) 0%, var(--light-green) 100%);
            color: white;
            border: none;
            padding: 18px 28px;
            border-radius: 20px;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            width: 100%;
            margin-top: 20px;
            min-height: 60px;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 6px 20px rgba(46, 125, 50, 0.3);
            position: relative;
            overflow: hidden;
        }
        
        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: left 0.5s ease;
        }
        
        .btn:hover::before {
            left: 100%;
        }
        
        .btn:active {
            transform: scale(0.98);
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 32px rgba(46, 125, 50, 0.4);
        }
        
        .btn.secondary {
            background: linear-gradient(135deg, var(--text-medium) 0%, #9E9E9E 100%);
            box-shadow: 0 6px 20px rgba(117, 117, 117, 0.3);
        }
        
        .navigation {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            padding: 20px;
            padding-bottom: max(env(safe-area-inset-bottom), 20px);
            border-top: 1px solid rgba(224, 224, 224, 0.5);
            display: flex;
            gap: 16px;
            z-index: 100;
            box-shadow: 0 -4px 20px var(--shadow-light);
        }
        
        .nav-btn {
            flex: 1;
            background: linear-gradient(135deg, var(--primary-green) 0%, var(--light-green) 100%);
            color: white;
            border: none;
            padding: 16px;
            border-radius: 16px;
            font-weight: 700;
            cursor: pointer;
            min-height: 56px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 4px 16px rgba(46, 125, 50, 0.3);
        }
        
        .nav-btn:active {
            transform: scale(0.95);
        }
        
        .nav-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 24px rgba(46, 125, 50, 0.4);
        }
        
        .nav-btn.secondary {
            background: linear-gradient(135deg, var(--text-medium) 0%, #9E9E9E 100%);
            box-shadow: 0 4px 16px rgba(117, 117, 117, 0.3);
        }
        
        .event-card {
            background: linear-gradient(135deg, var(--warning-orange) 0%, var(--sun-yellow) 100%);
            color: white;
            border-radius: 24px;
            padding: 28px;
            margin-bottom: 20px;
            position: relative;
            overflow: hidden;
            box-shadow: 0 12px 40px rgba(255, 143, 0, 0.3);
        }
        
        .event-card::before {
            content: '‚ö†Ô∏è';
            position: absolute;
            top: -20px;
            right: -20px;
            font-size: 150px;
            opacity: 0.1;
            transform: rotate(15deg);
        }
        
        .event-title {
            font-size: 24px;
            font-weight: 800;
            margin-bottom: 16px;
            text-shadow: 0 2px 4px rgba(0,0,0,0.2);
            position: relative;
            z-index: 1;
        }
        
        .event-description {
            font-size: 15px;
            margin-bottom: 24px;
            opacity: 0.95;
            line-height: 1.5;
            font-weight: 500;
            position: relative;
            z-index: 1;
        }
        
        .event-choices {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }
        
        .event-choice {
            background: rgba(255,255,255,0.15);
            border: 2px solid rgba(255,255,255,0.25);
            color: white;
            padding: 20px;
            border-radius: 16px;
            cursor: pointer;
            text-align: left;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            min-height: 80px;
            backdrop-filter: blur(10px);
            position: relative;
            overflow: hidden;
        }
        
        .event-choice::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s ease;
        }
        
        .event-choice:hover::before {
            left: 100%;
        }
        
        .event-choice:active {
            transform: scale(0.98);
        }
        
        .event-choice:hover {
            background: rgba(255,255,255,0.25);
            border-color: rgba(255,255,255,0.4);
            transform: translateY(-2px);
            box-shadow: 0 8px 32px rgba(0,0,0,0.2);
        }
        
        .choice-title {
            font-weight: 700;
            margin-bottom: 6px;
            font-size: 16px;
        }
        
        .choice-subtitle {
            font-size: 13px;
            opacity: 0.9;
            font-style: italic;
        }
        
        .consequence-card {
            background: linear-gradient(135deg, #FFF8E1 0%, #FFFDE7 100%);
            border: 2px solid var(--sun-yellow);
            border-radius: 20px;
            padding: 24px;
            margin-top: 20px;
            box-shadow: 0 8px 32px rgba(255, 179, 0, 0.2);
            animation: slideUp 0.5s ease-out;
        }
        
        @keyframes slideUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .consequence-title {
            font-size: 20px;
            font-weight: 800;
            margin-bottom: 16px;
            color: #E65100;
        }
        
        .consequence-text {
            margin-bottom: 20px;
            line-height: 1.5;
            font-weight: 500;
            color: var(--text-dark);
        }
        
        .learning-box {
            background: linear-gradient(135deg, #E8F5E8 0%, #F1F8E9 100%);
            border-radius: 16px;
            padding: 20px;
            border-left: 4px solid var(--primary-green);
        }
        
        .learning-title {
            font-weight: 700;
            color: var(--primary-green);
            margin-bottom: 10px;
            font-size: 16px;
        }
        
        .area-slider {
            width: 100%;
            height: 12px;
            border-radius: 8px;
            background: linear-gradient(90deg, #E0E0E0, #F5F5F5);
            outline: none;
            margin: 20px 0;
            appearance: none;
        }
        
        .area-slider::-webkit-slider-thumb {
            appearance: none;
            width: 28px;
            height: 28px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary-green), var(--light-green));
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(46, 125, 50, 0.4);
            transition: all 0.3s ease;
        }
        
        .area-slider::-webkit-slider-thumb:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 20px rgba(46, 125, 50, 0.6);
        }
        
        .cost-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 12px;
            padding: 8px 0;
            border-bottom: 1px solid rgba(224, 224, 224, 0.3);
        }
        
        .cost-row:last-child {
            border-bottom: none;
            font-weight: 700;
            font-size: 16px;
        }
        
        .cost-label {
            font-size: 15px;
            font-weight: 500;
        }
        
        .cost-value {
            font-size: 15px;
            font-weight: 700;
        }
        
        .cost-positive { color: var(--calm-green); }
        .cost-negative { color: var(--desperate-red); }
        
        .loading-spinner {
            width: 50px;
            height: 50px;
            border: 4px solid rgba(46, 125, 50, 0.2);
            border-top: 4px solid var(--primary-green);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 30px auto;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .splash-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 60px 30px;
            background: radial-gradient(circle at center, rgba(46, 125, 50, 0.1) 0%, transparent 70%);
        }
        
        .splash-icon {
            font-size: 100px;
            margin-bottom: 30px;
            animation: bounce 2s ease-in-out infinite;
            filter: drop-shadow(0 4px 8px var(--shadow-medium));
        }
        
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-10px); }
            60% { transform: translateY(-5px); }
        }
        
        .splash-title {
            font-size: 36px;
            font-weight: 800;
            color: var(--primary-green);
            margin-bottom: 12px;
            text-shadow: 0 2px 4px var(--shadow-light);
        }
        
        .splash-subtitle {
            font-size: 18px;
            color: var(--text-medium);
            margin-bottom: 50px;
            font-weight: 500;
        }
        
        .floating-particles {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            pointer-events: none;
        }
        
        .particle {
            position: absolute;
            background: rgba(46, 125, 50, 0.1);
            border-radius: 50%;
            animation: float 6s ease-in-out infinite;
        }
        
        .particle:nth-child(1) { width: 20px; height: 20px; left: 10%; animation-delay: 0s; }
        .particle:nth-child(2) { width: 15px; height: 15px; left: 20%; animation-delay: 1s; }
        .particle:nth-child(3) { width: 25px; height: 25px; left: 70%; animation-delay: 2s; }
        .particle:nth-child(4) { width: 18px; height: 18px; left: 80%; animation-delay: 3s; }
        
        @keyframes float {
            0%, 100% { transform: translateY(100vh) rotate(0deg); opacity: 0; }
            10%, 90% { opacity: 1; }
            50% { transform: translateY(-10px) rotate(180deg); }
        }
        
        .notification {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: linear-gradient(135deg, rgba(0,0,0,0.9), rgba(0,0,0,0.8));
            color: white;
            padding: 24px 28px;
            border-radius: 20px;
            z-index: 2000;
            max-width: 85%;
            text-align: center;
            font-size: 15px;
            font-weight: 600;
            box-shadow: 0 12px 40px rgba(0,0,0,0.3);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255,255,255,0.1);
            animation: notificationIn 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        @keyframes notificationIn {
            from { opacity: 0; transform: translate(-50%, -50%) scale(0.8); }
            to { opacity: 1; transform: translate(-50%, -50%) scale(1); }
        }
        
        /* Responsive adjustments */
        @media (max-width: 360px) {
            .content { padding: 16px; }
            .card { padding: 20px; }
            .quick-actions { gap: 12px; }
            .quick-action { padding: 20px 16px; }
            .app-bar { padding: max(env(safe-area-inset-top), 20px) 20px 20px 20px; }
        }
        
        /* Dark mode support */
        @media (prefers-color-scheme: dark) {
            :root {
                --surface-white: #1E1E1E;
                --background-light: #121212;
                --text-dark: #FFFFFF;
                --text-medium: #CCCCCC;
                --text-light: #999999;
            }
            
            body { 
                background: linear-gradient(135deg, #121212 0%, #1E1E1E 100%);
            }
            
            .card { 
                background: rgba(30, 30, 30, 0.8);
                border-color: rgba(255,255,255,0.1);
            }
            
            .crop-option { 
                background: rgba(30, 30, 30, 0.8);
                border-color: rgba(255,255,255,0.1);
            }
            
            .quick-action { 
                background: rgba(30, 30, 30, 0.8);
                border-color: rgba(255,255,255,0.1);
            }
        }
        
        /* High contrast mode */
        @media (prefers-contrast: high) {
            .card {
                border: 2px solid var(--primary-green);
            }
            
            .btn {
                border: 2px solid var(--light-green);
            }
        }
        
        /* Reduced motion */
        @media (prefers-reduced-motion: reduce) {
            *, *::before, *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }
    </style>
</head>
<body>
    <div class="floating-particles">
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
    </div>

    <!-- Splash Screen -->
    <div class="screen active" id="splash">
        <div class="app-bar">
            <h1>üåæ Alice Pisa</h1>
            <p>‡§ñ‡•á‡§§‡•Ä ‡§∏‡•Ä‡§ñ‡•á‡§Ç, ‡§ú‡•Ä‡§µ‡§® ‡§∏‡§Ç‡§µ‡§æ‡§∞‡•á‡§Ç</p>
        </div>
        <div class="splash-content">
            <div class="splash-icon">üöú</div>
            <div class="splash-title">Alice Pisa</div>
            <div class="splash-subtitle">Premium Experience</div>
            <div class="loading-spinner"></div>
            <p style="margin-top: 30px; color: var(--text-medium); font-weight: 500;">‡§§‡•à‡§Ø‡§æ‡§∞‡•Ä ‡§π‡•ã ‡§∞‡§π‡•Ä ‡§π‡•à...</p>
        </div>
        <div class="navigation">
            <button class="nav-btn" onclick="showScreen('dashboard')">üöÄ ‡§∂‡•Å‡§∞‡•Ç ‡§ï‡§∞‡•á‡§Ç</button>
        </div>
    </div>

    <!-- Dashboard Screen -->
    <div class="screen" id="dashboard">
        <div class="app-bar">
            <h1>‡§∞‡§æ‡§Æ ‡§ï‡•Å‡§Æ‡§æ‡§∞</h1>
            <p>‡§∞‡§æ‡§Æ‡§™‡•Å‡§∞ ‚Ä¢ ‡§ñ‡§∞‡•Ä‡§´‡§º (Kharif) ‚Ä¢ ‡§µ‡§∞‡•ç‡§∑ 1</p>
        </div>
        <div class="stress-indicator stress-calm" id="stressIndicator">üòä</div>
        
        <div class="content">
            <!-- Financial Status Card -->
            <div class="card financial-card">
                <h3 style="margin-bottom: 20px; font-size: 20px; font-weight: 700;">üí∞ ‡§Ü‡§∞‡•ç‡§•‡§ø‡§ï ‡§∏‡•ç‡§•‡§ø‡§§‡§ø</h3>
                <div class="metric-grid">
                    <div class="metric">
                        <div class="metric-label">‡§®‡§ï‡§¶ ‡§™‡•à‡§∏‡•á</div>
                        <div class="metric-value" id="currentMoney">‚Çπ15K</div>
                    </div>
                    <div class="metric">
                        <div class="metric-label">‡§¨‡§ö‡§§</div>
                        <div class="metric-value">‚Çπ5K</div>
                    </div>
                    <div class="metric">
                        <div class="metric-label">‡§ï‡§∞‡•ç‡§ú</div>
                        <div class="metric-value">‚Çπ2K</div>
                    </div>
                    <div class="metric">
                        <div class="metric-label">‡§ï‡•Å‡§≤ ‡§∏‡§Ç‡§™‡§§‡•ç‡§§‡§ø</div>
                        <div class="metric-value" id="totalWealth">‚Çπ18K</div>
                    </div>
                </div>
                <div class="progress-container">
                    <div class="progress-label">
                        <span>‡§Ü‡§∞‡•ç‡§•‡§ø‡§ï ‡§∏‡•ç‡§µ‡§æ‡§∏‡•ç‡§•‡•ç‡§Ø</span>
                        <span id="healthPercent">75%</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="healthBar" style="width: 75%;"></div>
                    </div>
                </div>
            </div>

            <!-- Season Progress Card -->
            <div class="card">
                <h3 style="margin-bottom: 20px; font-size: 18px; font-weight: 700;">üå± ‡§ñ‡§∞‡•Ä‡§´‡§º ‡§Æ‡•å‡§∏‡§Æ ‡§™‡•ç‡§∞‡§ó‡§§‡§ø</h3>
                <div style="display: flex; align-items: center; margin-bottom: 16px;">
                    <span style="font-size: 24px; margin-right: 12px;">üìã</span>
                    <div>
                        <p style="color: var(--text-medium); margin-bottom: 4px; font-weight: 500;">‡§µ‡§∞‡•ç‡§§‡§Æ‡§æ‡§® ‡§ö‡§∞‡§£</p>
                        <p style="font-weight: 700; color: var(--primary-green);">‡§Ø‡•ã‡§ú‡§®‡§æ ‡§¨‡§®‡§æ‡§®‡§æ</p>
                    </div>
                </div>
                <div class="progress-container">
                    <div class="progress-label">
                        <span>‡§Æ‡•å‡§∏‡§Æ ‡§ï‡•Ä ‡§™‡•ç‡§∞‡§ó‡§§‡§ø</span>
                        <span>40%</span>
                    </div>
                    <div class="progress-bar" style="background: #E8F5E8;">
                        <div class="progress-fill" style="background: linear-gradient(90deg, var(--primary-green), var(--light-green)); width: 40%;"></div>
                    </div>
                </div>
                <div style="margin-top: 16px; padding: 16px; background: #F0F8FF; border-radius: 12px; border-left: 4px solid var(--sky-blue);">
                    <p style="font-size: 13px; color: var(--sky-blue); font-weight: 600;">üí° ‡§Ö‡§ó‡§≤‡§æ ‡§ï‡§¶‡§Æ: ‡§´‡§∏‡§≤ ‡§ö‡•Å‡§®‡•á‡§Ç ‡§î‡§∞ ‡§ï‡•ç‡§∑‡•á‡§§‡•ç‡§∞ ‡§§‡§Ø ‡§ï‡§∞‡•á‡§Ç</p>
                </div>
            </div>

            <!-- Quick Actions -->
            <div class="card">
                <h3 style="margin-bottom: 20px; font-size: 18px; font-weight: 700;">‚ö° ‡§§‡•ç‡§µ‡§∞‡§ø‡§§ ‡§ï‡§æ‡§∞‡•ç‡§Ø</h3>
                <div class="quick-actions">
                    <div class="quick-action" onclick="showScreen('planning')">
                        <div class="quick-action-icon">üìù</div>
                        <div class="quick-action-text">‡§Ø‡•ã‡§ú‡§®‡§æ<br>‡§¨‡§®‡§æ‡§è‡§Ç</div>
                    </div>
                    <div class="quick-action" onclick="showScreen('event')">
                        <div class="quick-action-icon">üìä</div>
                        <div class="quick-action-text">‡§á‡§§‡§ø‡§π‡§æ‡§∏<br>‡§¶‡•á‡§ñ‡•á‡§Ç</div>
                    </div>
                    <div class="quick-action" onclick="vibrate(); speak('‡§Æ‡•å‡§∏‡§Æ ‡§ï‡•Ä ‡§ú‡§æ‡§®‡§ï‡§æ‡§∞‡•Ä: ‡§Ü‡§ú ‡§ß‡•Ç‡§™ ‡§π‡•à, ‡§ï‡§≤ ‡§¨‡§æ‡§∞‡§ø‡§∂ ‡§ï‡•Ä ‡§∏‡§Ç‡§≠‡§æ‡§µ‡§®‡§æ ‡§π‡•à‡•§')">
                        <div class="quick-action-icon">üå§Ô∏è</div>
                        <div class="quick-action-text">‡§Æ‡•å‡§∏‡§Æ<br>‡§ú‡§æ‡§Ç‡§ö‡•á‡§Ç</div>
                    </div>
                    <div class="quick-action" onclick="vibrate(); speak('‡§Ü‡§™‡§æ‡§§‡§ï‡§æ‡§≤‡•Ä‡§® ‡§∏‡§π‡§æ‡§Ø‡§§‡§æ: ‡§®‡§ú‡§¶‡•Ä‡§ï‡•Ä ‡§¨‡•à‡§Ç‡§ï, ‡§Ö‡§∏‡•ç‡§™‡§§‡§æ‡§≤ ‡§î‡§∞ ‡§ï‡•É‡§∑‡§ø ‡§ï‡•á‡§Ç‡§¶‡•ç‡§∞ ‡§ï‡•Ä ‡§ú‡§æ‡§®‡§ï‡§æ‡§∞‡•Ä‡•§')">
                        <div class="quick-action-icon">üö®</div>
                        <div class="quick-action-text">‡§Ü‡§™‡§æ‡§§‡§ï‡§æ‡§≤<br>‡§∏‡§π‡§æ‡§Ø‡§§‡§æ</div>
                    </div>
                </div>
            </div>

            <!-- Achievement Card -->
            <div class="card" style="background: linear-gradient(135deg, #E3F2FD 0%, #F3E5F5 100%); border-left: 4px solid var(--sky-blue);">
                <h3 style="margin-bottom: 16px; font-size: 18px; font-weight: 700; color: var(--sky-blue);">üèÜ ‡§â‡§™‡§≤‡§¨‡•ç‡§ß‡§ø‡§Ø‡§æ‡§Ç</h3>
                <div style="display: flex; align-items: center; margin-bottom: 12px;">
                    <span style="font-size: 20px; margin-right: 12px;">üåü</span>
                    <span style="font-weight: 600;">‡§™‡§π‡§≤‡§æ ‡§ï‡§ø‡§∏‡§æ‡§® - ‡§ñ‡•á‡§≤ ‡§∂‡•Å‡§∞‡•Ç ‡§ï‡§ø‡§Ø‡§æ</span>
                </div>
                <div style="display: flex; align-items: center; margin-bottom: 12px;">
                    <span style="font-size: 20px; margin-right: 12px;">üí∞</span>
                    <span style="font-weight: 600;">‡§¨‡§ö‡§§‡§ï‡§∞‡•ç‡§§‡§æ - ‚Çπ5000 ‡§¨‡§ö‡§§ ‡§ï‡•Ä</span>
                </div>
                <div style="display: flex; align-items: center; opacity: 0.5;">
                    <span style="font-size: 20px; margin-right: 12px;">üåæ</span>
                    <span style="font-weight: 600;">‡§∏‡§´‡§≤ ‡§ï‡§ø‡§∏‡§æ‡§® - ‡§™‡§π‡§≤‡•Ä ‡§´‡§∏‡§≤ ‡§â‡§ó‡§æ‡§è‡§Ç</span>
                </div>
            </div>

            <!-- Tips Card -->
            <div class="card" style="background: linear-gradient(135deg, #E8F5E8 0%, #F1F8E9 100%);">
                <h3 style="margin-bottom: 20px; font-size: 18px; font-weight: 700; color: var(--primary-green);">üí° ‡§Ü‡§ú ‡§ï‡•á ‡§∏‡•Å‡§ù‡§æ‡§µ</h3>
                <div style="margin-bottom: 12px; display: flex; align-items: start;">
                    <span style="color: var(--primary-green); margin-right: 8px; font-size: 16px;">‚úì</span>
                    <span style="font-weight: 500;">‡§Ü‡§™‡§æ‡§§‡§ï‡§æ‡§≤ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ï‡§Æ ‡§∏‡•á ‡§ï‡§Æ ‚Çπ3000 ‡§¨‡§ö‡§æ‡§ï‡§∞ ‡§∞‡§ñ‡•á‡§Ç</span>
                </div>
                <div style="margin-bottom: 12px; display: flex; align-items: start;">
                    <span style="color: var(--primary-green); margin-right: 8px; font-size: 16px;">‚úì</span>
                    <span style="font-weight: 500;">‡§´‡§∏‡§≤ ‡§¨‡•Ä‡§Æ‡§æ ‡§ï‡§∞‡§æ‡§®‡§æ ‡§´‡§æ‡§Ø‡§¶‡•á‡§Æ‡§Ç‡§¶ ‡§π‡•ã ‡§∏‡§ï‡§§‡§æ ‡§π‡•à</span>
                </div>
                <div style="display: flex; align-items: start;">
                    <span style="color: var(--primary-green); margin-right: 8px; font-size: 16px;">‚úì</span>
                    <span style="font-weight: 500;">‡§Æ‡§æ‡§®‡§∏‡•Ç‡§® ‡§™‡§∞ ‡§®‡§ø‡§∞‡•ç‡§≠‡§∞ ‡§® ‡§∞‡§π‡•á‡§Ç, ‡§∏‡§ø‡§Ç‡§ö‡§æ‡§à ‡§ï‡•Ä ‡§µ‡•ç‡§Ø‡§µ‡§∏‡•ç‡§•‡§æ ‡§ï‡§∞‡•á‡§Ç</span>
                </div>
            </div>
        </div>
    </div>
    <!-- Planning Screen -->
    <div class="screen" id="planning">
        <div class="app-bar">
            <h1>üåæ ‡§Æ‡•å‡§∏‡§Æ ‡§ï‡•Ä ‡§Ø‡•ã‡§ú‡§®‡§æ</h1>
            <p>‡§ñ‡§∞‡•Ä‡§´‡§º - ‡§Æ‡§æ‡§®‡§∏‡•Ç‡§® ‡§ï‡§æ ‡§Æ‡•å‡§∏‡§Æ</p>
        </div>
        
        <div class="content">
            <!-- Available Money -->
            <div class="card" style="background: linear-gradient(135deg, #E8F5E8 0%, #F1F8E9 100%);">
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <div>
                        <div style="color: var(--text-medium); font-size: 14px; font-weight: 500;">üí∞ ‡§â‡§™‡§≤‡§¨‡•ç‡§ß ‡§™‡•à‡§∏‡•á</div>
                        <div style="font-size: 28px; font-weight: 800; color: var(--primary-green); margin-top: 4px;">‚Çπ15,000</div>
                    </div>
                    <div style="text-align: right;">
                        <div style="color: var(--text-medium); font-size: 12px; font-weight: 500;">üè¶ ‡§¨‡§ö‡§§</div>
                        <div style="font-size: 18px; font-weight: 700; color: var(--primary-green);">‚Çπ5K</div>
                    </div>
                </div>
                <div style="margin-top: 16px; padding: 12px; background: rgba(46, 125, 50, 0.1); border-radius: 12px;">
                    <p style="font-size: 12px; color: var(--primary-green); font-weight: 600;">üí° ‡§∏‡•Å‡§ù‡§æ‡§µ: ‡§ï‡§Æ ‡§∏‡•á ‡§ï‡§Æ ‚Çπ2000 ‡§Ü‡§™‡§æ‡§§‡§ï‡§æ‡§≤ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§¨‡§ö‡§æ‡§ï‡§∞ ‡§∞‡§ñ‡•á‡§Ç</p>
                </div>
            </div>

            <!-- Crop Selection -->
            <div class="card">
                <h3 style="margin-bottom: 20px; font-size: 18px; font-weight: 700;">üå± ‡§´‡§∏‡§≤ ‡§ö‡•Å‡§®‡•á‡§Ç</h3>
                
                <div class="crop-option selected" onclick="selectCrop(this, 'rice')">
                    <div class="crop-header">
                        <div class="crop-name">‚óè ‡§ß‡§æ‡§® (Rice)</div>
                        <div class="risk-badge risk-low">‡§ï‡§Æ ‡§ú‡•ã‡§ñ‡§ø‡§Æ</div>
                    </div>
                    <div class="crop-details">üí∞ ‡§®‡§ø‡§µ‡•á‡§∂: ‚Çπ8K ‚Ä¢ üìà ‡§Ö‡§®‡•Å‡§Æ‡§æ‡§®‡§ø‡§§ ‡§≤‡§æ‡§≠: ‚Çπ37K ‚Ä¢ üåßÔ∏è ‡§Æ‡§æ‡§®‡§∏‡•Ç‡§® ‡§™‡§∞ ‡§®‡§ø‡§∞‡•ç‡§≠‡§∞</div>
                </div>
                
                <div class="crop-option" onclick="selectCrop(this, 'maize')">
                    <div class="crop-header">
                        <div class="crop-name">‚óã ‡§Æ‡§ï‡•ç‡§ï‡§æ (Maize)</div>
                        <div class="risk-badge risk-medium">‡§Æ‡§ß‡•ç‡§Ø‡§Æ ‡§ú‡•ã‡§ñ‡§ø‡§Æ</div>
                    </div>
                    <div class="crop-details">üí∞ ‡§®‡§ø‡§µ‡•á‡§∂: ‚Çπ6K ‚Ä¢ üìà ‡§Ö‡§®‡•Å‡§Æ‡§æ‡§®‡§ø‡§§ ‡§≤‡§æ‡§≠: ‚Çπ39K ‚Ä¢ üåΩ ‡§§‡•á‡§ú‡§º‡•Ä ‡§∏‡•á ‡§¨‡§¢‡§º‡§§‡§æ ‡§π‡•à</div>
                </div>
                
                <div class="crop-option" onclick="selectCrop(this, 'cotton')">
                    <div class="crop-header">
                        <div class="crop-name">‚óã ‡§ï‡§™‡§æ‡§∏ (Cotton)</div>
                        <div class="risk-badge risk-high">‡§â‡§ö‡•ç‡§ö ‡§ú‡•ã‡§ñ‡§ø‡§Æ</div>
                    </div>
                    <div class="crop-details">üí∞ ‡§®‡§ø‡§µ‡•á‡§∂: ‚Çπ12K ‚Ä¢ üìà ‡§Ö‡§®‡•Å‡§Æ‡§æ‡§®‡§ø‡§§ ‡§≤‡§æ‡§≠: ‚Çπ32K ‚Ä¢ üêõ ‡§ï‡•Ä‡§°‡§º‡•ã‡§Ç ‡§ï‡§æ ‡§ñ‡§§‡§∞‡§æ</div>
                </div>
            </div>

            <!-- Area Selection -->
            <div class="card">
                <h3 style="margin-bottom: 20px; font-size: 18px; font-weight: 700;">üìè ‡§ï‡§ø‡§§‡§®‡§æ ‡§ï‡•ç‡§∑‡•á‡§§‡•ç‡§∞?</h3>
                <div style="display: flex; align-items: center; margin-bottom: 16px;">
                    <span style="font-size: 24px; margin-right: 12px;">üöú</span>
                    <div>
                        <p style="font-size: 18px; font-weight: 700; color: var(--primary-green); margin-bottom: 4px;" id="areaDisplay">1.5 ‡§è‡§ï‡§°‡§º</p>
                        <p style="font-size: 12px; color: var(--text-medium);">‡§ï‡•Å‡§≤ 2.0 ‡§è‡§ï‡§°‡§º ‡§Æ‡•á‡§Ç ‡§∏‡•á</p>
                    </div>
                </div>
                <input type="range" min="0.5" max="2" step="0.1" value="1.5" class="area-slider" id="areaSlider" oninput="updateArea(this.value)">
                <div style="display: flex; justify-content: space-between; font-size: 12px; color: var(--text-medium); font-weight: 500;">
                    <span>0.5 ‡§è‡§ï‡§°‡§º</span>
                    <span>2.0 ‡§è‡§ï‡§°‡§º</span>
                </div>
            </div>

            <!-- Cost Calculation -->
            <div class="card" style="background: linear-gradient(135deg, #E8F5E8 0%, #F1F8E9 100%); border: 2px solid var(--primary-green);" id="costCard">
                <h3 style="margin-bottom: 20px; color: var(--primary-green); font-size: 18px; font-weight: 700;">‚úÖ ‡§≤‡§æ‡§ó‡§§ ‡§ó‡§£‡§®‡§æ</h3>
                <div class="cost-row">
                    <span class="cost-label">üå± ‡§ï‡•Å‡§≤ ‡§®‡§ø‡§µ‡•á‡§∂:</span>
                    <span class="cost-value cost-negative" id="totalCost">‚Çπ12,000</span>
                </div>
                <div class="cost-row">
                    <span class="cost-label">üìà ‡§Ö‡§®‡•Å‡§Æ‡§æ‡§®‡§ø‡§§ ‡§Ü‡§Ø:</span>
                    <span class="cost-value cost-positive" id="expectedIncome">‚Çπ67,500</span>
                </div>
                <div class="cost-row">
                    <span class="cost-label">üí∞ ‡§Ö‡§®‡•Å‡§Æ‡§æ‡§®‡§ø‡§§ ‡§≤‡§æ‡§≠:</span>
                    <span class="cost-value cost-positive" id="expectedProfit">‚Çπ55,500</span>
                </div>
                <hr style="margin: 16px 0; border: none; height: 1px; background: rgba(46, 125, 50, 0.2);">
                <div class="cost-row">
                    <span class="cost-label">üí≥ ‡§¨‡§ö‡•á‡§Ç‡§ó‡•á:</span>
                    <span class="cost-value cost-positive" id="remaining">‚Çπ3,000</span>
                </div>
            </div>

            <!-- Insurance -->
            <div class="card" style="background: linear-gradient(135deg, #FFF3E0 0%, #FFFDE7 100%); border-left: 4px solid var(--sun-yellow);">
                <h3 style="margin-bottom: 16px; font-size: 18px; font-weight: 700; color: #E65100;">üõ°Ô∏è ‡§´‡§∏‡§≤ ‡§¨‡•Ä‡§Æ‡§æ</h3>
                <p style="color: var(--text-medium); margin-bottom: 20px; font-weight: 500;">‡§™‡•ç‡§∞‡§æ‡§ï‡•É‡§§‡§ø‡§ï ‡§Ü‡§™‡§¶‡§æ ‡§∏‡•á ‡§´‡§∏‡§≤ ‡§ï‡•Ä ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§æ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§¨‡•Ä‡§Æ‡§æ ‡§ï‡§∞‡§æ‡§è‡§Ç‡•§ ‡§∏‡§ø‡§∞‡•ç‡§´ ‚Çπ500 ‡§Æ‡•á‡§Ç ‡§™‡•Ç‡§∞‡•Ä ‡§´‡§∏‡§≤ ‡§ï‡§æ ‡§¨‡•Ä‡§Æ‡§æ‡•§</p>
                <label style="display: flex; align-items: center; cursor: pointer; padding: 16px; background: rgba(255, 193, 7, 0.1); border-radius: 12px;">
                    <input type="checkbox" checked style="margin-right: 16px; transform: scale(1.5); accent-color: var(--sun-yellow);" id="insuranceCheck">
                    <div>
                        <div style="font-weight: 700; color: #E65100;">‡§π‡§æ‡§Ç, ‡§Æ‡•à‡§Ç ‡§´‡§∏‡§≤ ‡§¨‡•Ä‡§Æ‡§æ ‡§ï‡§∞‡§æ‡§®‡§æ ‡§ö‡§æ‡§π‡§§‡§æ ‡§π‡•Ç‡§Ç</div>
                        <div style="font-size: 12px; color: var(--text-medium); margin-top: 4px;">‡§ï‡•á‡§µ‡§≤ ‚Çπ500 - ‡§∏‡•Ç‡§ñ‡§æ, ‡§¨‡§æ‡§¢‡§º, ‡§ì‡§≤‡§æ‡§µ‡•É‡§∑‡•ç‡§ü‡§ø ‡§∏‡•á ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§æ</div>
                    </div>
                </label>
            </div>

            <!-- Weather Forecast -->
            <div class="card" style="background: linear-gradient(135deg, #E3F2FD 0%, #F3E5F5 100%); border-left: 4px solid var(--sky-blue);">
                <h3 style="margin-bottom: 16px; font-size: 18px; font-weight: 700; color: var(--sky-blue);">üå§Ô∏è ‡§Æ‡•å‡§∏‡§Æ ‡§™‡•Ç‡§∞‡•ç‡§µ‡§æ‡§®‡•Å‡§Æ‡§æ‡§®</h3>
                <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px;">
                    <div style="text-align: center; padding: 12px; background: rgba(25, 118, 210, 0.1); border-radius: 12px;">
                        <div style="font-size: 24px;">üåßÔ∏è</div>
                        <div style="font-size: 12px; font-weight: 600; color: var(--sky-blue);">‡§Ü‡§ú</div>
                        <div style="font-size: 11px; color: var(--text-medium);">‡§¨‡§æ‡§∞‡§ø‡§∂</div>
                    </div>
                    <div style="text-align: center; padding: 12px; background: rgba(255, 193, 7, 0.1); border-radius: 12px;">
                        <div style="font-size: 24px;">‚õÖ</div>
                        <div style="font-size: 12px; font-weight: 600; color: var(--sun-yellow);">‡§ï‡§≤</div>
                        <div style="font-size: 11px; color: var(--text-medium);">‡§¨‡§æ‡§¶‡§≤</div>
                    </div>
                    <div style="text-align: center; padding: 12px; background: rgba(76, 175, 80, 0.1); border-radius: 12px;">
                        <div style="font-size: 24px;">‚òÄÔ∏è</div>
                        <div style="font-size: 12px; font-weight: 600; color: var(--primary-green);">‡§™‡§∞‡§∏‡•ã‡§Ç</div>
                        <div style="font-size: 11px; color: var(--text-medium);">‡§ß‡•Ç‡§™</div>
                    </div>
                </div>
                <p style="margin-top: 12px; font-size: 12px; color: var(--text-medium); font-weight: 500;">üí° ‡§Ö‡§ö‡•ç‡§õ‡•Ä ‡§¨‡§æ‡§∞‡§ø‡§∂ ‡§ï‡•á ‡§ï‡§æ‡§∞‡§£ ‡§ß‡§æ‡§® ‡§ï‡•Ä ‡§´‡§∏‡§≤ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§Ö‡§®‡•Å‡§ï‡•Ç‡§≤ ‡§∏‡§Æ‡§Ø ‡§π‡•à</p>
            </div>
        </div>
        
        <div class="navigation">
            <button class="nav-btn secondary" onclick="showScreen('dashboard')">‚¨ÖÔ∏è ‡§µ‡§æ‡§™‡§∏</button>
            <button class="nav-btn" onclick="plantCrop()">üåæ ‡§¨‡•Å‡§Ü‡§à ‡§ï‡§∞‡•á‡§Ç ‚Çπ12,500</button>
        </div>
    </div>
    <!-- Event Screen -->
    <div class="screen" id="event">
        <div class="app-bar">
            <h1>‚ö†Ô∏è ‡§§‡§§‡•ç‡§ï‡§æ‡§≤ ‡§ß‡•ç‡§Ø‡§æ‡§® ‡§¶‡•á‡§Ç!</h1>
            <p>‡§´‡•à‡§∏‡§≤‡§æ ‡§≤‡•á‡§®‡•á ‡§ï‡§æ ‡§∏‡§Æ‡§Ø - ‡§∏‡•ã‡§ö-‡§∏‡§Æ‡§ù‡§ï‡§∞ ‡§ö‡•Å‡§®‡•á‡§Ç</p>
        </div>
        
        <div class="content">
            <div class="event-card">
                <div class="event-title">üåßÔ∏è ‡§∏‡•Ç‡§ñ‡§æ (Drought Alert)</div>
                <div class="event-description">
                    ‡§¨‡§æ‡§∞‡§ø‡§∂ ‡§ï‡§Æ ‡§π‡•Å‡§à ‡§π‡•à ‡§î‡§∞ ‡§Ü‡§™‡§ï‡•Ä ‡§ß‡§æ‡§® ‡§ï‡•Ä ‡§´‡§∏‡§≤ ‡§ï‡•ã ‡§§‡•Å‡§∞‡§Ç‡§§ ‡§™‡§æ‡§®‡•Ä ‡§ï‡•Ä ‡§ú‡§∞‡•Ç‡§∞‡§§ ‡§π‡•à‡•§ ‡§Æ‡•å‡§∏‡§Æ ‡§µ‡§ø‡§≠‡§æ‡§ó ‡§ï‡•á ‡§Ö‡§®‡•Å‡§∏‡§æ‡§∞ ‡§Ö‡§ó‡§≤‡•á 15 ‡§¶‡§ø‡§® ‡§§‡§ï ‡§¨‡§æ‡§∞‡§ø‡§∂ ‡§®‡§π‡•Ä‡§Ç ‡§π‡•ã‡§ó‡•Ä‡•§ ‡§Ü‡§™‡§ï‡•ã ‡§§‡•Å‡§∞‡§Ç‡§§ ‡§´‡•à‡§∏‡§≤‡§æ ‡§≤‡•á‡§®‡§æ ‡§π‡•ã‡§ó‡§æ ‡§µ‡§∞‡§®‡§æ ‡§´‡§∏‡§≤ ‡§∏‡•Ç‡§ñ ‡§ú‡§æ‡§è‡§ó‡•Ä‡•§
                </div>
                
                <div style="background: rgba(255,255,255,0.1); padding: 16px; border-radius: 12px; margin-bottom: 20px;">
                    <div style="font-size: 14px; font-weight: 600; margin-bottom: 8px;">üìä ‡§µ‡§∞‡•ç‡§§‡§Æ‡§æ‡§® ‡§∏‡•ç‡§•‡§ø‡§§‡§ø:</div>
                    <div style="font-size: 12px; opacity: 0.9;">‚Ä¢ ‡§´‡§∏‡§≤: ‡§ß‡§æ‡§® (1.5 ‡§è‡§ï‡§°‡§º)</div>
                    <div style="font-size: 12px; opacity: 0.9;">‚Ä¢ ‡§®‡§ø‡§µ‡•á‡§∂: ‚Çπ12,000</div>
                    <div style="font-size: 12px; opacity: 0.9;">‚Ä¢ ‡§¨‡§ö‡•á ‡§™‡•à‡§∏‡•á: ‚Çπ3,000</div>
                </div>
                
                <div class="event-choices">
                    <button class="event-choice" onclick="makeChoice('water')">
                        <div class="choice-title">üíß ‡§™‡§æ‡§®‡•Ä ‡§ñ‡§∞‡•Ä‡§¶‡•á‡§Ç (‚Çπ2000)</div>
                        <div class="choice-subtitle">"‡§ü‡•à‡§Ç‡§ï‡§∞ ‡§∏‡•á ‡§™‡§æ‡§®‡•Ä ‡§Æ‡§Ç‡§ó‡§µ‡§æ‡§ï‡§∞ ‡§´‡§∏‡§≤ ‡§ï‡•ã ‡§¨‡§ö‡§æ‡§è‡§Ç‡•§ ‡§Æ‡§π‡§Ç‡§ó‡§æ ‡§π‡•à ‡§≤‡•á‡§ï‡§ø‡§® ‡§´‡§∏‡§≤ ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§ø‡§§ ‡§∞‡§π‡•á‡§ó‡•Ä‡•§"</div>
                    </button>
                    
                    <button class="event-choice" onclick="makeChoice('wait')">
                        <div class="choice-title">‚è≥ ‡§¨‡§æ‡§∞‡§ø‡§∂ ‡§ï‡§æ ‡§á‡§Ç‡§§‡§ú‡§æ‡§∞ ‡§ï‡§∞‡•á‡§Ç</div>
                        <div class="choice-subtitle">"‡§™‡•à‡§∏‡•á ‡§¨‡§ö‡•á‡§Ç‡§ó‡•á ‡§≤‡•á‡§ï‡§ø‡§® ‡§¨‡§π‡•Å‡§§ ‡§ú‡•ã‡§ñ‡§ø‡§Æ ‡§π‡•à‡•§ ‡§Ö‡§ó‡§∞ ‡§¨‡§æ‡§∞‡§ø‡§∂ ‡§®‡§π‡•Ä‡§Ç ‡§Ü‡§à ‡§§‡•ã ‡§™‡•Ç‡§∞‡•Ä ‡§´‡§∏‡§≤ ‡§¨‡§∞‡•ç‡§¨‡§æ‡§¶ ‡§π‡•ã ‡§ú‡§æ‡§è‡§ó‡•Ä‡•§"</div>
                    </button>
                    
                    <button class="event-choice" onclick="makeChoice('sell')">
                        <div class="choice-title">üí∏ ‡§Ö‡§≠‡•Ä ‡§¨‡•á‡§ö ‡§¶‡•á‡§Ç</div>
                        <div class="choice-subtitle">"‡§ï‡§Æ ‡§¶‡§æ‡§Æ ‡§Æ‡•á‡§Ç ‡§¨‡•á‡§ö‡§ï‡§∞ ‡§ï‡•Å‡§õ ‡§™‡•à‡§∏‡•á ‡§µ‡§æ‡§™‡§∏ ‡§™‡§æ‡§è‡§Ç‡•§ ‡§®‡•Å‡§ï‡§∏‡§æ‡§® ‡§π‡•ã‡§ó‡§æ ‡§≤‡•á‡§ï‡§ø‡§® ‡§™‡•Ç‡§∞‡§æ ‡§®‡§ø‡§µ‡•á‡§∂ ‡§®‡§π‡•Ä‡§Ç ‡§°‡•Ç‡§¨‡•á‡§ó‡§æ‡•§"</div>
                    </button>
                    
                    <button class="event-choice" onclick="makeChoice('loan')">
                        <div class="choice-title">üè¶ ‡§ï‡§∞‡•ç‡§ú ‡§≤‡•á‡§ï‡§∞ ‡§™‡§æ‡§®‡•Ä ‡§ñ‡§∞‡•Ä‡§¶‡•á‡§Ç</div>
                        <div class="choice-subtitle">"‡§¨‡•à‡§Ç‡§ï ‡§∏‡•á ‚Çπ3000 ‡§ï‡§æ ‡§ï‡§∞‡•ç‡§ú ‡§≤‡•á‡§ï‡§∞ ‡§™‡§æ‡§®‡•Ä ‡§ï‡•Ä ‡§µ‡•ç‡§Ø‡§µ‡§∏‡•ç‡§•‡§æ ‡§ï‡§∞‡•á‡§Ç‡•§ ‡§¨‡•ç‡§Ø‡§æ‡§ú ‡§¶‡•á‡§®‡§æ ‡§π‡•ã‡§ó‡§æ‡•§"</div>
                    </button>
                </div>
            </div>

            <!-- Consequence Display -->
            <div class="consequence-card" id="consequenceCard" style="display: none;">
                <div class="consequence-title">üìã ‡§™‡§∞‡§ø‡§£‡§æ‡§Æ</div>
                <div class="consequence-text" id="consequenceText"></div>
                <div class="learning-box">
                    <div class="learning-title">üéì ‡§∏‡•Ä‡§ñ:</div>
                    <div id="learningText"></div>
                </div>
                
                <!-- Financial Impact -->
                <div style="margin-top: 16px; padding: 16px; background: #F5F5F5; border-radius: 12px;">
                    <div style="font-weight: 700; margin-bottom: 8px; color: var(--text-dark);">üí∞ ‡§Ü‡§∞‡•ç‡§•‡§ø‡§ï ‡§™‡•ç‡§∞‡§≠‡§æ‡§µ:</div>
                    <div style="display: flex; justify-content: space-between; margin-bottom: 4px;">
                        <span>‡§™‡•à‡§∏‡•á ‡§™‡§π‡§≤‡•á:</span>
                        <span id="moneyBefore">‚Çπ3,000</span>
                    </div>
                    <div style="display: flex; justify-content: space-between; margin-bottom: 4px;">
                        <span>‡§™‡•à‡§∏‡•á ‡§¨‡§æ‡§¶ ‡§Æ‡•á‡§Ç:</span>
                        <span id="moneyAfter" class="cost-positive">‚Çπ1,000</span>
                    </div>
                    <div style="display: flex; justify-content: space-between; font-weight: 700;">
                        <span>‡§§‡§®‡§æ‡§µ ‡§∏‡•ç‡§§‡§∞:</span>
                        <span id="stressChange">üòê ‡§ö‡§ø‡§Ç‡§§‡§ø‡§§</span>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="navigation">
            <button class="nav-btn secondary" onclick="showScreen('planning')">‚¨ÖÔ∏è ‡§µ‡§æ‡§™‡§∏</button>
            <button class="nav-btn" onclick="showScreen('dashboard')">üè† ‡§°‡•à‡§∂‡§¨‡•ã‡§∞‡•ç‡§°</button>
        </div>
    </div>

    <script>
        let currentCrop = 'rice';
        let currentArea = 1.5;
        let gameState = {
            money: 15000,
            savings: 5000,
            debt: 2000,
            stress: 0, // 0=calm, 1=worried, 2=stressed, 3=desperate
            season: 1,
            achievements: ['first-farmer', 'saver']
        };

        // Enhanced crop data with more details
        const crops = {
            rice: { 
                name: '‡§ß‡§æ‡§®', 
                cost: 8000, 
                yield: 25, 
                price: 1800, 
                risk: 0.3,
                description: '‡§Æ‡§æ‡§®‡§∏‡•Ç‡§® ‡§™‡§∞ ‡§®‡§ø‡§∞‡•ç‡§≠‡§∞, ‡§ï‡§Æ ‡§ú‡•ã‡§ñ‡§ø‡§Æ',
                icon: 'üåæ'
            },
            maize: { 
                name: '‡§Æ‡§ï‡•ç‡§ï‡§æ', 
                cost: 6000, 
                yield: 30, 
                price: 1500, 
                risk: 0.4,
                description: '‡§§‡•á‡§ú‡§º‡•Ä ‡§∏‡•á ‡§¨‡§¢‡§º‡§§‡§æ ‡§π‡•à, ‡§Æ‡§ß‡•ç‡§Ø‡§Æ ‡§ú‡•ã‡§ñ‡§ø‡§Æ',
                icon: 'üåΩ'
            },
            cotton: { 
                name: '‡§ï‡§™‡§æ‡§∏', 
                cost: 12000, 
                yield: 8, 
                price: 5500, 
                risk: 0.6,
                description: '‡§ï‡•Ä‡§°‡§º‡•ã‡§Ç ‡§ï‡§æ ‡§ñ‡§§‡§∞‡§æ, ‡§â‡§ö‡•ç‡§ö ‡§ú‡•ã‡§ñ‡§ø‡§Æ',
                icon: 'üåø'
            }
        };

        function showScreen(screenId) {
            // Hide all screens
            document.querySelectorAll('.screen').forEach(screen => {
                screen.classList.remove('active');
            });
            
            // Show selected screen with animation
            const targetScreen = document.getElementById(screenId);
            targetScreen.classList.add('active');
            
            // Enhanced vibration patterns
            if (navigator.vibrate) {
                switch(screenId) {
                    case 'dashboard':
                        navigator.vibrate([50, 30, 50]);
                        break;
                    case 'planning':
                        navigator.vibrate([100]);
                        break;
                    case 'event':
                        navigator.vibrate([200, 100, 200]);
                        break;
                    default:
                        navigator.vibrate(50);
                }
            }
            
            // Enhanced voice prompts with more context
            setTimeout(() => {
                if (screenId === 'dashboard') {
                    speak('‡§∞‡§æ‡§Æ ‡§ú‡•Ä, ‡§®‡§Æ‡§∏‡•ç‡§§‡•á! ‡§ñ‡§∞‡•Ä‡§´‡§º ‡§Æ‡•å‡§∏‡§Æ ‡§Æ‡•á‡§Ç ‡§Ü‡§™‡§ï‡§æ ‡§∏‡•ç‡§µ‡§æ‡§ó‡§§ ‡§π‡•à‡•§ ‡§Ü‡§™‡§ï‡•Ä ‡§Ü‡§∞‡•ç‡§•‡§ø‡§ï ‡§∏‡•ç‡§•‡§ø‡§§‡§ø ‡§Ö‡§ö‡•ç‡§õ‡•Ä ‡§π‡•à‡•§ ‡§Ö‡§¨ ‡§´‡§∏‡§≤ ‡§ï‡•Ä ‡§Ø‡•ã‡§ú‡§®‡§æ ‡§¨‡§®‡§æ‡§®‡•á ‡§ï‡§æ ‡§∏‡§Æ‡§Ø ‡§π‡•à‡•§');
                } else if (screenId === 'planning') {
                    speak('‡§ñ‡§∞‡•Ä‡§´‡§º ‡§Æ‡•å‡§∏‡§Æ ‡§ï‡•Ä ‡§Ø‡•ã‡§ú‡§®‡§æ ‡§¨‡§®‡§æ‡§®‡•á ‡§ï‡§æ ‡§∏‡§Æ‡§Ø ‡§π‡•à‡•§ ‡§Æ‡•å‡§∏‡§Æ ‡§Ö‡§ö‡•ç‡§õ‡§æ ‡§π‡•à‡•§ ‡§ß‡§æ‡§®, ‡§Æ‡§ï‡•ç‡§ï‡§æ ‡§Ø‡§æ ‡§ï‡§™‡§æ‡§∏ ‡§Æ‡•á‡§Ç ‡§∏‡•á ‡§ï‡•å‡§® ‡§∏‡•Ä ‡§´‡§∏‡§≤ ‡§≤‡§ó‡§æ‡§®‡§æ ‡§ö‡§æ‡§π‡§§‡•á ‡§π‡•à‡§Ç?');
                } else if (screenId === 'event') {
                    speak('‡§ß‡•ç‡§Ø‡§æ‡§® ‡§¶‡•á‡§Ç! ‡§∏‡•Ç‡§ñ‡§æ ‡§™‡§°‡§º‡§æ ‡§π‡•à ‡§î‡§∞ ‡§Ü‡§™‡§ï‡•Ä ‡§´‡§∏‡§≤ ‡§ï‡•ã ‡§§‡•Å‡§∞‡§Ç‡§§ ‡§™‡§æ‡§®‡•Ä ‡§ï‡•Ä ‡§ú‡§∞‡•Ç‡§∞‡§§ ‡§π‡•à‡•§ ‡§¨‡§π‡•Å‡§§ ‡§∏‡§æ‡§µ‡§ß‡§æ‡§®‡•Ä ‡§∏‡•á ‡§´‡•à‡§∏‡§≤‡§æ ‡§≤‡•á‡§Ç‡•§');
                }
            }, 500);
        }

        function selectCrop(element, cropType) {
            // Remove selection from all crops
            document.querySelectorAll('.crop-option').forEach(crop => {
                crop.classList.remove('selected');
                const nameEl = crop.querySelector('.crop-name');
                nameEl.textContent = nameEl.textContent.replace('‚óè', '‚óã');
            });
            
            // Select clicked crop with enhanced animation
            element.classList.add('selected');
            const nameEl = element.querySelector('.crop-name');
            nameEl.textContent = nameEl.textContent.replace('‚óã', '‚óè');
            
            currentCrop = cropType;
            updateCostCalculation();
            
            // Enhanced feedback
            vibrate([50, 30, 50]);
            const crop = crops[cropType];
            speak(`${crop.name} ‡§ö‡•Å‡§®‡§æ ‡§ó‡§Ø‡§æ‡•§ ${crop.description}‡•§ ‡§®‡§ø‡§µ‡•á‡§∂ ‚Çπ${crop.cost} ‡§π‡•ã‡§ó‡§æ‡•§`);
        }

        function updateArea(value) {
            currentArea = parseFloat(value);
            document.getElementById('areaDisplay').textContent = `${value} ‡§è‡§ï‡§°‡§º`;
            updateCostCalculation();
            
            // Real-time voice feedback for area changes
            if (value >= 1.8) {
                speak('‡§¨‡§°‡§º‡§æ ‡§ï‡•ç‡§∑‡•á‡§§‡•ç‡§∞ ‡§ö‡•Å‡§®‡§æ ‡§π‡•à‡•§ ‡§ú‡•ç‡§Ø‡§æ‡§¶‡§æ ‡§®‡§ø‡§µ‡•á‡§∂ ‡§≤‡•á‡§ï‡§ø‡§® ‡§ú‡•ç‡§Ø‡§æ‡§¶‡§æ ‡§Æ‡•Å‡§®‡§æ‡§´‡§æ‡•§');
            } else if (value <= 0.7) {
                speak('‡§õ‡•ã‡§ü‡§æ ‡§ï‡•ç‡§∑‡•á‡§§‡•ç‡§∞ ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§ø‡§§ ‡§π‡•à‡•§ ‡§ï‡§Æ ‡§ú‡•ã‡§ñ‡§ø‡§Æ‡•§');
            }
        }

        function updateCostCalculation() {
            const crop = crops[currentCrop];
            const totalCost = crop.cost * currentArea;
            const insuranceCost = document.getElementById('insuranceCheck').checked ? 500 : 0;
            const grandTotal = totalCost + insuranceCost;
            const expectedIncome = crop.yield * crop.price * currentArea;
            const expectedProfit = expectedIncome - totalCost;
            const remaining = gameState.money - grandTotal;

            // Update display with animations
            document.getElementById('totalCost').textContent = `‚Çπ${totalCost.toLocaleString()}`;
            document.getElementById('expectedIncome').textContent = `‚Çπ${expectedIncome.toLocaleString()}`;
            document.getElementById('expectedProfit').textContent = `‚Çπ${expectedProfit.toLocaleString()}`;
            document.getElementById('remaining').textContent = `‚Çπ${remaining.toLocaleString()}`;

            // Update button text with emoji
            const plantBtn = document.querySelector('.navigation .nav-btn:last-child');
            plantBtn.textContent = `üåæ ‡§¨‡•Å‡§Ü‡§à ‡§ï‡§∞‡•á‡§Ç ‚Çπ${grandTotal.toLocaleString()}`;

            // Enhanced affordability feedback
            const costCard = document.getElementById('costCard');
            if (remaining >= 0) {
                costCard.style.background = 'linear-gradient(135deg, #E8F5E8 0%, #F1F8E9 100%)';
                costCard.style.borderColor = 'var(--primary-green)';
                plantBtn.disabled = false;
                plantBtn.style.opacity = '1';
            } else {
                costCard.style.background = 'linear-gradient(135deg, #FFEBEE 0%, #FCE4EC 100%)';
                costCard.style.borderColor = 'var(--desperate-red)';
                plantBtn.disabled = true;
                plantBtn.style.opacity = '0.6';
            }
        }
        function plantCrop() {
            const crop = crops[currentCrop];
            const totalCost = crop.cost * currentArea;
            const insuranceCost = document.getElementById('insuranceCheck').checked ? 500 : 0;
            const grandTotal = totalCost + insuranceCost;

            if (gameState.money >= grandTotal) {
                gameState.money -= grandTotal;
                updateFinancialDisplay();
                
                // Enhanced success feedback
                vibrate([100, 50, 100, 50, 200]);
                speak(`‡§¨‡§π‡•Å‡§§ ‡§Ö‡§ö‡•ç‡§õ‡§æ! ${crop.name} ‡§ï‡•Ä ‡§¨‡•Å‡§Ü‡§à ‡§∏‡§´‡§≤‡§§‡§æ‡§™‡•Ç‡§∞‡•ç‡§µ‡§ï ‡§π‡•ã ‡§ó‡§à‡•§ ‡§Ö‡§¨ ‡§´‡§∏‡§≤ ‡§ï‡•Ä ‡§¶‡•á‡§ñ‡§≠‡§æ‡§≤ ‡§ï‡§∞‡•á‡§Ç ‡§î‡§∞ ‡§Æ‡•å‡§∏‡§Æ ‡§™‡§∞ ‡§®‡§ú‡§º‡§∞ ‡§∞‡§ñ‡•á‡§Ç‡•§`);
                
                // Add planting achievement
                if (!gameState.achievements.includes('first-crop')) {
                    gameState.achievements.push('first-crop');
                    setTimeout(() => {
                        speak('‡§¨‡§ß‡§æ‡§à ‡§π‡•ã! ‡§Ü‡§™‡§ï‡•ã "‡§™‡§π‡§≤‡•Ä ‡§´‡§∏‡§≤" ‡§ï‡•Ä ‡§â‡§™‡§≤‡§¨‡•ç‡§ß‡§ø ‡§Æ‡§ø‡§≤‡•Ä ‡§π‡•à‡•§');
                    }, 2000);
                }
                
                setTimeout(() => {
                    showScreen('event');
                }, 3000);
            } else {
                vibrate([200, 100, 200]);
                speak('‡§™‡•à‡§∏‡•á ‡§ï‡§Æ ‡§π‡•à‡§Ç‡•§ ‡§ï‡§Æ ‡§ï‡•ç‡§∑‡•á‡§§‡•ç‡§∞ ‡§ö‡•Å‡§®‡•á‡§Ç ‡§Ø‡§æ ‡§ï‡§∞‡•ç‡§ú ‡§≤‡•á‡§®‡•á ‡§ï‡§æ ‡§µ‡§ø‡§ï‡§≤‡•ç‡§™ ‡§¶‡•á‡§ñ‡•á‡§Ç‡•§');
            }
        }

        function makeChoice(choice) {
            const consequenceCard = document.getElementById('consequenceCard');
            const consequenceText = document.getElementById('consequenceText');
            const learningText = document.getElementById('learningText');
            const moneyBefore = document.getElementById('moneyBefore');
            const moneyAfter = document.getElementById('moneyAfter');
            const stressChange = document.getElementById('stressChange');
            
            let consequence = '';
            let learning = '';
            let moneyChange = 0;
            let stressChange_val = 0;
            let vibrationPattern = [100];
            
            const beforeMoney = gameState.money;
            moneyBefore.textContent = `‚Çπ${beforeMoney.toLocaleString()}`;
            
            switch(choice) {
                case 'water':
                    consequence = '‚úÖ ‡§Ü‡§™‡§®‡•á ‡§™‡§æ‡§®‡•Ä ‡§ñ‡§∞‡•Ä‡§¶‡§æ‡•§ ‡§´‡§∏‡§≤ ‡§¨‡§ö ‡§ó‡§à ‡§≤‡•á‡§ï‡§ø‡§® ‚Çπ2000 ‡§ñ‡§∞‡•ç‡§ö ‡§π‡•Å‡§è‡•§ ‡§Ü‡§™‡§ï‡§æ ‡§§‡§®‡§æ‡§µ ‡§•‡•ã‡§°‡§º‡§æ ‡§¨‡§¢‡§º‡§æ ‡§≤‡•á‡§ï‡§ø‡§® ‡§´‡§∏‡§≤ ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§ø‡§§ ‡§π‡•à‡•§';
                    learning = '‡§Ü‡§™‡§æ‡§§‡§ï‡§æ‡§≤ ‡§Æ‡•á‡§Ç ‡§∏‡§π‡•Ä ‡§®‡§ø‡§µ‡•á‡§∂ ‡§ï‡§∞‡§®‡§æ ‡§ú‡§∞‡•Ç‡§∞‡•Ä ‡§π‡•à‡•§ ‡§™‡•à‡§∏‡•á ‡§µ‡§æ‡§™‡§∏ ‡§Ü ‡§ú‡§æ‡§è‡§Ç‡§ó‡•á ‡§≤‡•á‡§ï‡§ø‡§® ‡§´‡§∏‡§≤ ‡§è‡§ï ‡§¨‡§æ‡§∞ ‡§¨‡§∞‡•ç‡§¨‡§æ‡§¶ ‡§π‡•ã ‡§ú‡§æ‡§è ‡§§‡•ã ‡§∏‡§¨ ‡§ï‡•Å‡§õ ‡§ñ‡§§‡•ç‡§Æ‡•§';
                    moneyChange = -2000;
                    stressChange_val = 1;
                    vibrationPattern = [100, 50, 100];
                    break;
                case 'wait':
                    consequence = '‚ùå ‡§¨‡§æ‡§∞‡§ø‡§∂ ‡§®‡§π‡•Ä‡§Ç ‡§Ü‡§à‡•§ ‡§´‡§∏‡§≤ ‡§ï‡§æ 70% ‡§®‡•Å‡§ï‡§∏‡§æ‡§® ‡§π‡•Å‡§Ü‡•§ ‚Çπ8000 ‡§ï‡§æ ‡§®‡§ø‡§µ‡•á‡§∂ ‡§¨‡§∞‡•ç‡§¨‡§æ‡§¶‡•§ ‡§Ü‡§™‡§ï‡§æ ‡§§‡§®‡§æ‡§µ ‡§¨‡§π‡•Å‡§§ ‡§¨‡§¢‡§º ‡§ó‡§Ø‡§æ‡•§';
                    learning = '‡§ú‡•ã‡§ñ‡§ø‡§Æ ‡§≤‡•á‡§®‡§æ ‡§π‡§Æ‡•á‡§∂‡§æ ‡§∏‡§π‡•Ä ‡§®‡§π‡•Ä‡§Ç ‡§π‡•ã‡§§‡§æ‡•§ ‡§ï‡§≠‡•Ä-‡§ï‡§≠‡•Ä ‡§•‡•ã‡§°‡§º‡§æ ‡§ñ‡§∞‡•ç‡§ö ‡§ï‡§∞‡§ï‡•á ‡§¨‡§°‡§º‡•á ‡§®‡•Å‡§ï‡§∏‡§æ‡§® ‡§∏‡•á ‡§¨‡§ö‡§®‡§æ ‡§¨‡•á‡§π‡§§‡§∞ ‡§π‡•ã‡§§‡§æ ‡§π‡•à‡•§';
                    moneyChange = -8000;
                    stressChange_val = 3;
                    vibrationPattern = [200, 100, 200, 100, 200];
                    break;
                case 'sell':
                    consequence = '‚ö†Ô∏è ‡§Ü‡§™‡§®‡•á ‡§ú‡§≤‡•ç‡§¶‡•Ä ‡§¨‡•á‡§ö ‡§¶‡§ø‡§Ø‡§æ‡•§ ‚Çπ4000 ‡§Æ‡§ø‡§≤‡•á ‡§≤‡•á‡§ï‡§ø‡§® ‡§™‡•Ç‡§∞‡§æ ‡§≤‡§æ‡§≠ ‡§®‡§π‡•Ä‡§Ç ‡§Æ‡§ø‡§≤‡§æ‡•§ ‡§ï‡§Æ ‡§®‡•Å‡§ï‡§∏‡§æ‡§® ‡§π‡•Å‡§Ü‡•§';
                    learning = '‡§ï‡§≠‡•Ä-‡§ï‡§≠‡•Ä ‡§∏‡§Æ‡§Ø ‡§™‡§∞ ‡§®‡§ø‡§ï‡§≤‡§®‡§æ ‡§¨‡•á‡§π‡§§‡§∞ ‡§π‡•ã‡§§‡§æ ‡§π‡•à‡•§ ‡§™‡•Ç‡§∞‡§æ ‡§®‡•Å‡§ï‡§∏‡§æ‡§® ‡§π‡•ã‡§®‡•á ‡§∏‡•á ‡§¨‡§ö‡•á‡•§';
                    moneyChange = 4000;
                    stressChange_val = 1;
                    vibrationPattern = [150, 75, 150];
                    break;
                case 'loan':
                    consequence = 'üè¶ ‡§Ü‡§™‡§®‡•á ‡§ï‡§∞‡•ç‡§ú ‡§≤‡•á‡§ï‡§∞ ‡§™‡§æ‡§®‡•Ä ‡§ñ‡§∞‡•Ä‡§¶‡§æ‡•§ ‡§´‡§∏‡§≤ ‡§¨‡§ö ‡§ó‡§à ‡§≤‡•á‡§ï‡§ø‡§® ‡§Ö‡§¨ ‚Çπ3500 ‡§ï‡§æ ‡§ï‡§∞‡•ç‡§ú ‡§π‡•à (‡§¨‡•ç‡§Ø‡§æ‡§ú ‡§∏‡§π‡§ø‡§§)‡•§';
                    learning = '‡§ï‡§∞‡•ç‡§ú ‡§≤‡•á‡§®‡§æ ‡§ï‡§≠‡•Ä-‡§ï‡§≠‡•Ä ‡§ú‡§∞‡•Ç‡§∞‡•Ä ‡§π‡•ã‡§§‡§æ ‡§π‡•à ‡§≤‡•á‡§ï‡§ø‡§® ‡§¨‡•ç‡§Ø‡§æ‡§ú ‡§ï‡§æ ‡§¨‡•ã‡§ù ‡§¨‡§¢‡§º‡§§‡§æ ‡§π‡•à‡•§ ‡§∏‡§Æ‡§Ø ‡§™‡§∞ ‡§µ‡§æ‡§™‡§∏ ‡§ï‡§∞‡§®‡§æ ‡§ú‡§∞‡•Ç‡§∞‡•Ä ‡§π‡•à‡•§';
                    moneyChange = -500; // Only interest paid now
                    stressChange_val = 2;
                    gameState.debt += 3500;
                    vibrationPattern = [100, 50, 100, 50, 100];
                    break;
            }
            
            // Update game state
            gameState.money += moneyChange;
            gameState.stress = Math.min(3, Math.max(0, gameState.stress + stressChange_val));
            
            // Update displays
            consequenceText.textContent = consequence;
            learningText.textContent = learning;
            moneyAfter.textContent = `‚Çπ${gameState.money.toLocaleString()}`;
            
            // Update stress display
            const stressTexts = ['üòä ‡§∂‡§æ‡§Ç‡§§', 'üòê ‡§ö‡§ø‡§Ç‡§§‡§ø‡§§', 'üòü ‡§§‡§®‡§æ‡§µ‡§ó‡•ç‡§∞‡§∏‡•ç‡§§', 'üò∞ ‡§™‡§∞‡•á‡§∂‡§æ‡§®'];
            const stressColors = ['var(--calm-green)', 'var(--worried-yellow)', 'var(--stressed-orange)', 'var(--desperate-red)'];
            stressChange.textContent = stressTexts[gameState.stress];
            stressChange.style.color = stressColors[gameState.stress];
            
            if (moneyChange < 0) {
                moneyAfter.className = 'cost-negative';
            } else {
                moneyAfter.className = 'cost-positive';
            }
            
            consequenceCard.style.display = 'block';
            
            updateFinancialDisplay();
            updateStressIndicator();
            
            // Enhanced feedback
            vibrate(vibrationPattern);
            setTimeout(() => {
                if (choice === 'water' || choice === 'loan') {
                    speak('‡§¨‡§π‡•Å‡§§ ‡§Ö‡§ö‡•ç‡§õ‡§æ! ‡§Ü‡§™‡§®‡•á ‡§∏‡§π‡•Ä ‡§´‡•à‡§∏‡§≤‡§æ ‡§≤‡§ø‡§Ø‡§æ‡•§ ‡§´‡§∏‡§≤ ‡§¨‡§ö ‡§ó‡§à‡•§ ‡§Ö‡§ó‡§≤‡•Ä ‡§¨‡§æ‡§∞ ‡§™‡§π‡§≤‡•á ‡§∏‡•á ‡§§‡•à‡§Ø‡§æ‡§∞‡•Ä ‡§∞‡§ñ‡•á‡§Ç‡•§');
                } else if (choice === 'wait') {
                    speak('‡§Ø‡§π ‡§¨‡§π‡•Å‡§§ ‡§ú‡•ã‡§ñ‡§ø‡§Æ ‡§≠‡§∞‡§æ ‡§´‡•à‡§∏‡§≤‡§æ ‡§•‡§æ‡•§ ‡§Ö‡§ó‡§≤‡•Ä ‡§¨‡§æ‡§∞ ‡§Ü‡§™‡§æ‡§§‡§ï‡§æ‡§≤ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§™‡•à‡§∏‡•á ‡§¨‡§ö‡§æ‡§ï‡§∞ ‡§∞‡§ñ‡•á‡§Ç‡•§');
                } else {
                    speak('‡§∏‡§Æ‡§ù‡§¶‡§æ‡§∞‡•Ä ‡§ï‡§æ ‡§´‡•à‡§∏‡§≤‡§æ ‡§•‡§æ‡•§ ‡§™‡•Ç‡§∞‡§æ ‡§®‡•Å‡§ï‡§∏‡§æ‡§® ‡§π‡•ã‡§®‡•á ‡§∏‡•á ‡§¨‡§ö‡•á‡•§ ‡§Ö‡§ó‡§≤‡•Ä ‡§¨‡§æ‡§∞ ‡§¨‡•á‡§π‡§§‡§∞ ‡§§‡•à‡§Ø‡§æ‡§∞‡•Ä ‡§ï‡§∞‡•á‡§Ç‡•§');
                }
            }, 1500);
        }

        function updateFinancialDisplay() {
            document.getElementById('currentMoney').textContent = `‚Çπ${Math.round(gameState.money/1000)}K`;
            const totalWealth = gameState.money + gameState.savings - gameState.debt;
            document.getElementById('totalWealth').textContent = `‚Çπ${Math.round(totalWealth/1000)}K`;
            
            const healthPercent = Math.max(0, Math.min(100, (totalWealth / 20000) * 100));
            document.getElementById('healthPercent').textContent = `${Math.round(healthPercent)}%`;
            document.getElementById('healthBar').style.width = `${healthPercent}%`;
        }

        function updateStressIndicator() {
            const indicator = document.getElementById('stressIndicator');
            const stressClasses = ['stress-calm', 'stress-worried', 'stress-stressed', 'stress-desperate'];
            const stressEmojis = ['üòä', 'üòê', 'üòü', 'üò∞'];
            
            // Remove all stress classes
            stressClasses.forEach(cls => indicator.classList.remove(cls));
            
            // Add current stress class
            indicator.classList.add(stressClasses[gameState.stress]);
            indicator.textContent = stressEmojis[gameState.stress];
        }

        function vibrate(pattern = 50) {
            if (navigator.vibrate) {
                navigator.vibrate(pattern);
            }
        }

        function speak(text) {
            // Create enhanced notification with better styling
            const notification = document.createElement('div');
            notification.className = 'notification';
            notification.innerHTML = `
                <div style="display: flex; align-items: center; margin-bottom: 8px;">
                    <span style="font-size: 20px; margin-right: 8px;">üó£Ô∏è</span>
                    <span style="font-weight: 700;">Alice Pisa</span>
                </div>
                <div style="line-height: 1.4;">"${text}"</div>
            `;
            
            document.body.appendChild(notification);
            
            // Auto-remove with fade out
            setTimeout(() => {
                notification.style.animation = 'notificationIn 0.3s cubic-bezier(0.4, 0, 0.2, 1) reverse';
                setTimeout(() => {
                    if (document.body.contains(notification)) {
                        document.body.removeChild(notification);
                    }
                }, 300);
            }, 4000);
        }

        // Initialize enhanced features
        document.addEventListener('DOMContentLoaded', function() {
            updateCostCalculation();
            
            // Auto-start demo after 4 seconds
            setTimeout(() => {
                showScreen('dashboard');
            }, 4000);
            
            // Enhanced touch feedback for all interactive elements
            document.querySelectorAll('button, .crop-option, .quick-action, .event-choice').forEach(el => {
                el.addEventListener('touchstart', function(e) {
                    this.style.transform = 'scale(0.95)';
                    vibrate(30);
                }, { passive: true });
                
                el.addEventListener('touchend', function(e) {
                    this.style.transform = '';
                }, { passive: true });
                
                el.addEventListener('touchcancel', function(e) {
                    this.style.transform = '';
                }, { passive: true });
            });
            
            // Add swipe gestures for navigation
            let startX = 0;
            let startY = 0;
            
            document.addEventListener('touchstart', function(e) {
                startX = e.touches[0].clientX;
                startY = e.touches[0].clientY;
            }, { passive: true });
            
            document.addEventListener('touchend', function(e) {
                if (!startX || !startY) return;
                
                let endX = e.changedTouches[0].clientX;
                let endY = e.changedTouches[0].clientY;
                
                let diffX = startX - endX;
                let diffY = startY - endY;
                
                // Only trigger if horizontal swipe is dominant
                if (Math.abs(diffX) > Math.abs(diffY) && Math.abs(diffX) > 50) {
                    if (diffX > 0) {
                        // Swipe left - next screen
                        const currentScreen = document.querySelector('.screen.active').id;
                        if (currentScreen === 'dashboard') showScreen('planning');
                        else if (currentScreen === 'planning') showScreen('event');
                    } else {
                        // Swipe right - previous screen
                        const currentScreen = document.querySelector('.screen.active').id;
                        if (currentScreen === 'event') showScreen('planning');
                        else if (currentScreen === 'planning') showScreen('dashboard');
                    }
                }
                
                startX = 0;
                startY = 0;
            }, { passive: true });
        });

        // Prevent zoom on double tap
        let lastTouchEnd = 0;
        document.addEventListener('touchend', function (event) {
            const now = (new Date()).getTime();
            if (now - lastTouchEnd <= 300) {
                event.preventDefault();
            }
            lastTouchEnd = now;
        }, false);

        // Add keyboard shortcuts for desktop testing
        document.addEventListener('keydown', function(e) {
            switch(e.key) {
                case '1': showScreen('dashboard'); break;
                case '2': showScreen('planning'); break;
                case '3': showScreen('event'); break;
                case 'ArrowLeft': 
                    const currentScreen = document.querySelector('.screen.active').id;
                    if (currentScreen === 'event') showScreen('planning');
                    else if (currentScreen === 'planning') showScreen('dashboard');
                    break;
                case 'ArrowRight':
                    const currentScreen2 = document.querySelector('.screen.active').id;
                    if (currentScreen2 === 'dashboard') showScreen('planning');
                    else if (currentScreen2 === 'planning') showScreen('event');
                    break;
            }
        });
    </script>
</body>
</html>